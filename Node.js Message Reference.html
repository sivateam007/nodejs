<!DOCTYPE html>
<html lang="ta">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node.js Message Reference - Jassif Team Institution</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        .content-section p, 
        .content-section li,
        .content-section h3,
        .content-section h4,
        .comparison-card p {
            color: #333 !important;
        }
        
        .tip-box p,
        .tip-box li,
        .tip-box h4 {
            color: white !important;
        }
        
        .warning-box p,
        .warning-box li,
        .warning-box h4 {
            color: white !important;
        }
        
        .exercise-box p,
        .exercise-box h4 {
            color: white !important;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-container">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <h1>Jassif Team <span>Institution</span></h1>
            </div>
        </div>
    </header>

    <!-- Top Navigation Tabs -->
    <div class="nav-tabs">
        <a href="Node.js Response Reference.html" class="nav-tab prev">
            <i class="fas fa-arrow-left"></i>
            <span>роорпБроирпНродрпИроп</span>
        </a>
        <a href="Node.js Interface Reference.html" class="nav-tab next">
            <span>роЕроЯрпБродрпНродродрпБ</span>
            <i class="fas fa-arrow-right"></i>
        </a>
    </div>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content">
            <h2>Node.js Message Reference</h2>
            <p>Node.js HTTP роЪрпЖропрпНродро┐ рокрпКро░рпБро│рпНроХро│рпН рооро▒рпНро▒рпБроорпН роЕро╡ро▒рпНро▒ро┐ройрпН рокрогрпНрокрпБроХро│рпН рооро▒рпНро▒рпБроорпН роорпБро▒рпИроХро│рпН рокро▒рпНро▒ро┐ роЕро▒ро┐роХ</p>
        </div>
    </section>

    <!-- Main Content -->
    <main class="container">
        <!-- HTTP Message Object -->
        <section class="content-section" id="message-object">
            <h2>HTTP роЪрпЖропрпНродро┐ рокрпКро░рпБро│рпН</h2>
            
            <p>http.IncomingMessage рокрпКро░рпБро│рпН http.Server роЕро▓рпНро▓родрпБ http.ClientRequest роорпВро▓роорпН роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯрпНроЯрпБ роорпБро▒рпИропрпЗ 'request' рооро▒рпНро▒рпБроорпН 'response' роиро┐роХро┤рпНро╡рпБроХро│рпБроХрпНроХрпБ роорпБродро▓рпН ро╡ро╛родрооро╛роХ роЕройрпБрокрпНрокрокрпНрокроЯрпБроХро┐ро▒родрпБ. роЗродрпБ рокродро┐ро▓рпН роиро┐ро▓рпИ, родро▓рпИрокрпНрокрпБроХро│рпН рооро▒рпНро▒рпБроорпН родро░ро╡рпИ роЕрогрпБроХ рокропройрпНрокроЯрпБроХро┐ро▒родрпБ.</p>
            
            <p>роЗроирпНрод роЪрпЖропрпНродро┐ рокрпКро░рпБро│рпН роЗро░рогрпНроЯрпИропрпБроорпН роХрпБро▒ро┐роХрпНроХро┐ро▒родрпБ:</p>
            
            <ul>
                <li>роЪрпЗро╡рпИропроХродрпНродро╛ро▓рпН рокрпЖро▒рокрпНрокроЯрпНроЯ HTTP роХрпЛро░ро┐роХрпНроХрпИ ('request' роиро┐роХро┤рпНро╡рпБроХрпНроХрпБ роЕройрпБрокрпНрокрокрпНрокроЯрпНроЯродрпБ)</li>
                <li>роХро┐ро│рпИропройрпНроЯрпН роорпВро▓роорпН рокрпЖро▒рокрпНрокроЯрпНроЯ HTTP рокродро┐ро▓рпН ('response' роиро┐роХро┤рпНро╡рпБроХрпНроХрпБ роЕройрпБрокрпНрокрокрпНрокроЯрпНроЯродрпБ)</li>
            </ul>
            
            <p>роЗродрпБ Readable Stream роЗроЯрпИроорпБроХродрпНродрпИ роЪрпЖропро▓рпНрокроЯрпБродрпНродрпБроХро┐ро▒родрпБ, роЗродрпБ роЪрпЖропрпНродро┐ роЙроЯро▓рпИ роирпБроХро░ роЙроЩрпНроХро│рпИ роЕройрпБроородро┐роХрпНроХро┐ро▒родрпБ.</p>
            
            <div class="comparison-grid">
                <div class="comparison-card">
                    <div class="comparison-header">
                        <i class="fas fa-server"></i>
                        <h4>роЪрпЗро╡рпИропроХ рокроХрпНроХ роЪрпЖропрпНродро┐</h4>
                    </div>
                    <p>роХрпЛро░ро┐роХрпНроХрпИ родроХро╡ро▓рпНроХро│рпН, родро▓рпИрокрпНрокрпБроХро│рпН рооро▒рпНро▒рпБроорпН роЙроЯро▓рпН родро░ро╡рпИ роЕрогрпБроХрпБроХро┐ро▒родрпБ</p>
                </div>
                
                <div class="comparison-card">
                    <div class="comparison-header">
                        <i class="fas fa-desktop"></i>
                        <h4>роХро┐ро│рпИропройрпНроЯрпН рокроХрпНроХ роЪрпЖропрпНродро┐</h4>
                    </div>
                    <p>рокродро┐ро▓рпН родроХро╡ро▓рпНроХро│рпН, роиро┐ро▓рпИ роХрпБро▒ро┐ропрпАроЯрпБроХро│рпН рооро▒рпНро▒рпБроорпН роЙроЯро▓рпН родро░ро╡рпИ роЕрогрпБроХрпБроХро┐ро▒родрпБ</p>
                </div>
                
                <div class="comparison-card">
                    <div class="comparison-header">
                        <i class="fas fa-stream"></i>
                        <h4>ро╕рпНроЯрпНро░рпАроорпН роЗроЯрпИроорпБроХроорпН</h4>
                    </div>
                    <p>Readable Stream роЗроЯрпИроорпБроХродрпНродрпИ роЪрпЖропро▓рпНрокроЯрпБродрпНродрпБроХро┐ро▒родрпБ, родро░ро╡рпИ родро┐ро▒роорпНрокроЯ роХрпИропро╛ро│ роЙродро╡рпБроХро┐ро▒родрпБ</p>
                </div>
            </div>
        </section>

        <!-- Message Properties -->
        <section class="content-section" id="message-properties">
            <h2>роЪрпЖропрпНродро┐ рокрогрпНрокрпБроХро│рпН</h2>
            
            <div class="comparison-table">
                <table>
                    <thead>
                        <tr>
                            <th>рокрогрпНрокрпБ</th>
                            <th>ро╡ро┐ро│роХрпНроХроорпН</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>message.complete</strong></td>
                            <td>роорпБро┤рпБ роЪрпЖропрпНродро┐ропрпБроорпН рокрпЖро▒рокрпНрокроЯрпНроЯрпБ рокро╛роХрпБрокроЯрпБродрпНродрокрпНрокроЯрпНроЯродро╛ роОройрпНрокродрпИроХрпН роХрпБро▒ро┐роХрпНроХрпБроорпН рокрпВро▓ро┐ропройрпН</td>
                        </tr>
                        <tr>
                            <td><strong>message.headers</strong></td>
                            <td>роХрпЛро░ро┐роХрпНроХрпИ/рокродро┐ро▓рпН родро▓рпИрокрпНрокрпБроХро│рпН рокрпКро░рпБро│рпН</td>
                        </tr>
                        <tr>
                            <td><strong>message.httpVersion</strong></td>
                            <td>роХро┐ро│рпИропройрпНроЯрпН роЕройрпБрокрпНрокро┐роп HTTP рокродро┐рокрпНрокрпБ. рокрпКродрпБро╡ро╛роХ '1.0' роЕро▓рпНро▓родрпБ '1.1'</td>
                        </tr>
                        <tr>
                            <td><strong>message.method</strong></td>
                            <td>роХрпЛро░ро┐роХрпНроХрпИ роорпБро▒рпИ роТро░рпБ роЪро░рооро╛роХ (роО.роХро╛., 'GET', 'POST'). http.Server роЗро▓ро┐ро░рпБроирпНродрпБ роХрпЛро░ро┐роХрпНроХрпИ роЪрпЖропрпНродро┐роХро│рпБроХрпНроХрпБ роороЯрпНроЯрпБроорпЗ роЪрпЖро▓рпНро▓рпБрокроЯро┐ропро╛роХрпБроорпН</td>
                        </tr>
                        <tr>
                            <td><strong>message.rawHeaders</strong></td>
                            <td>роЕро╡рпИ рокрпЖро▒рокрпНрокроЯрпНроЯродрпИрокрпН рокрпЛро▓ро╡рпЗ роорпВро▓ роХрпЛро░ро┐роХрпНроХрпИ/рокродро┐ро▓рпН родро▓рпИрокрпНрокрпБроХро│рпН рокроЯрпНроЯро┐ропро▓рпН. роТро▒рпНро▒рпИрокрпНрокроЯрпИ роЙро│рпНро│рпАроЯрпБроХро│рпН ро╡ро┐роЪрпИ рокрпЖропро░рпНроХро│рпН, роЗро░роЯрпНроЯрпИрокрпНрокроЯрпИ роЙро│рпНро│рпАроЯрпБроХро│рпН роородро┐рокрпНрокрпБроХро│рпН</td>
                        </tr>
                        <tr>
                            <td><strong>message.rawTrailers</strong></td>
                            <td>роЕро╡рпИ рокрпЖро▒рокрпНрокроЯрпНроЯродрпИрокрпН рокрпЛро▓ро╡рпЗ роорпВро▓ роХрпЛро░ро┐роХрпНроХрпИ/рокродро┐ро▓рпН роЯро┐ро░рпЖропрпНро▓ро░рпН ро╡ро┐роЪрпИроХро│рпН рооро▒рпНро▒рпБроорпН роородро┐рокрпНрокрпБроХро│рпН</td>
                        </tr>
                        <tr>
                            <td><strong>message.socket</strong></td>
                            <td>роЗрогрпИрокрпНрокрпБроЯройрпН родрпКроЯро░рпНрокрпБроЯрпИроп net.Socket рокрпКро░рпБро│рпН</td>
                        </tr>
                        <tr>
                            <td><strong>message.statusCode</strong></td>
                            <td>HTTP рокродро┐ро▓рпН роиро┐ро▓рпИ роХрпБро▒ро┐ропрпАроЯрпБ. http.ClientRequest роЗро▓ро┐ро░рпБроирпНродрпБ рокродро┐ро▓рпН роЪрпЖропрпНродро┐роХро│рпБроХрпНроХрпБ роороЯрпНроЯрпБроорпЗ роЪрпЖро▓рпНро▓рпБрокроЯро┐ропро╛роХрпБроорпН</td>
                        </tr>
                        <tr>
                            <td><strong>message.statusMessage</strong></td>
                            <td>HTTP рокродро┐ро▓рпН роиро┐ро▓рпИ роЪрпЖропрпНродро┐. http.ClientRequest роЗро▓ро┐ро░рпБроирпНродрпБ рокродро┐ро▓рпН роЪрпЖропрпНродро┐роХро│рпБроХрпНроХрпБ роороЯрпНроЯрпБроорпЗ роЪрпЖро▓рпНро▓рпБрокроЯро┐ропро╛роХрпБроорпН</td>
                        </tr>
                        <tr>
                            <td><strong>message.trailers</strong></td>
                            <td>роХрпЛро░ро┐роХрпНроХрпИ/рокродро┐ро▓рпН роЯро┐ро░рпЖропрпНро▓ро░рпН родро▓рпИрокрпНрокрпБроХро│рпН рокрпКро░рпБро│рпН</td>
                        </tr>
                        <tr>
                            <td><strong>message.url</strong></td>
                            <td>роХрпЛро░ро┐роХрпНроХрпИ URL роЪро░роорпН. http.Server роЗро▓ро┐ро░рпБроирпНродрпБ роХрпЛро░ро┐роХрпНроХрпИ роЪрпЖропрпНродро┐роХро│рпБроХрпНроХрпБ роороЯрпНроЯрпБроорпЗ роЪрпЖро▓рпНро▓рпБрокроЯро┐ропро╛роХрпБроорпН</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Message Methods -->
        <section class="content-section" id="message-methods">
            <h2>роЪрпЖропрпНродро┐ роорпБро▒рпИроХро│рпН</h2>
            
            <div class="comparison-table">
                <table>
                    <thead>
                        <tr>
                            <th>роорпБро▒рпИ</th>
                            <th>ро╡ро┐ро│роХрпНроХроорпН</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>message.destroy([error])</strong></td>
                            <td>роЗроирпНрод роЪрпЖропрпНродро┐ропрпИрокрпН рокрпЖро▒рпНро▒ роЪро╛роХрпНроХрпЖроЯрпНроЯро┐ро▓рпН destroy() роР роЕро┤рпИроХрпНроХро┐ро▒родрпБ. error ро╡ро┤роЩрпНроХрокрпНрокроЯрпНроЯро╛ро▓рпН, роТро░рпБ 'error' роиро┐роХро┤рпНро╡рпБ роЙрооро┐ро┤рокрпНрокроЯрпБроорпН рооро▒рпНро▒рпБроорпН рокро┐ро┤рпИ роТро░рпБ ро╡ро╛родрооро╛роХ роЕройрпБрокрпНрокрокрпНрокроЯрпБроорпН</td>
                        </tr>
                        <tr>
                            <td><strong>message.setTimeout(msecs, callback)</strong></td>
                            <td>socket.setTimeout(msecs, callback) роР роЕро┤рпИроХрпНроХро┐ро▒родрпБ</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Message as a Readable Stream -->
        <section class="content-section" id="readable-stream">
            <h2>Readable Stream роЖроХ роЪрпЖропрпНродро┐</h2>
            
            <p>http.IncomingMessage Readable Stream роЗроЯрпИроорпБроХродрпНродрпИ роЪрпЖропро▓рпНрокроЯрпБродрпНродрпБроХро┐ро▒родрпБ, роЗродрпБ роЪрпЖропрпНродро┐ роЙроЯро▓рпИ роирпБроХро░ роЙроЩрпНроХро│рпИ роЕройрпБроородро┐роХрпНроХро┐ро▒родрпБ.</p>
            
            <p>http.IncomingMessage Readable Stream роЗроЯрпИроорпБроХродрпНродрпИ роЪрпЖропро▓рпНрокроЯрпБродрпНродрпБро╡родро╛ро▓рпН, роЗродрпБ read(), pipe() рокрпЛройрпНро▒ роЕройрпИродрпНродрпБ ро╕рпНроЯрпНро░рпАроорпН роорпБро▒рпИроХро│рпИропрпБроорпН 'data', 'end', рооро▒рпНро▒рпБроорпН 'error' рокрпЛройрпНро▒ роиро┐роХро┤рпНро╡рпБроХро│рпИропрпБроорпН роЙро│рпНро│роЯроХрпНроХро┐ропродрпБ.</p>
            
            <div class="tip-box">
                <h4><span class="tip-icon">ЁЯТб</span> ро╕рпНроЯрпНро░рпАроорпН роиройрпНроорпИроХро│рпН:</h4>
                <ul>
                    <li><strong>роиро┐ройрпИро╡роХ родро┐ро▒ройрпН:</strong> рокрпЖро░ро┐роп родро░ро╡рпИ родрпБрогрпНроЯрпБроХро│ро╛роХ роЪрпЖропро▓ро╛роХрпНроХрпБроХро┐ро▒родрпБ</li>
                    <li><strong>рокро┐ройрпНройро┤рпБродрпНродроорпН роХрпИропро╛ро│рпБродро▓рпН:</strong> родро░ро╡рпБ роУроЯрпНроЯродрпНродрпИ родро╛ройро╛роХро╡рпЗ роХроЯрпНроЯрпБрокрпНрокроЯрпБродрпНродрпБроХро┐ро▒родрпБ</li>
                    <li><strong>родро┐ро▒ройрпН:</strong> родро░ро╡рпБ роХро┐роЯрпИроХрпНроХрпБроорпН ро╡ро┐ро░рпИро╡ро┐ро▓рпН роЪрпЖропро▓ро╛роХрпНроХродрпНродрпИ родрпКроЯроЩрпНроХрпБроХро┐ро▒родрпБ</li>
                </ul>
            </div>
        </section>

        <!-- Examples -->
        <section class="content-section" id="examples">
            <h2>роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБроХро│рпН</h2>

            <!-- Server-side Message -->
            <div class="example-section" id="server-side">
                <h3>роЪрпЗро╡рпИропроХ рокроХрпНроХ роЪрпЖропрпНродро┐ (роХрпЛро░ро┐роХрпНроХрпИ)</h3>
                
                <p>роЗроирпНрод роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ роЪрпЗро╡рпИропроХ рокроХрпНроХродрпНродро┐ро▓рпН IncomingMessage рокрпКро░рпБро│рпИроХрпН роХрпИропро╛ро│рпБро╡родрпИ роиро┐ро░рпВрокро┐роХрпНроХро┐ро▒родрпБ:</p>
                
                <div class="code-example">
                    <pre><code>const http = require('http');
const url = require('url');

// Create an HTTP server
const server = http.createServer((req, res) => {
  // 'req' is the IncomingMessage object
  
  // Basic message properties
  console.log('HTTP Version:', req.httpVersion);
  console.log('Method:', req.method);
  console.log('URL:', req.url);
  
  // Parse the URL
  const parsedUrl = url.parse(req.url, true);
  console.log('Pathname:', parsedUrl.pathname);
  console.log('Query:', parsedUrl.query);
  
  // Headers
  console.log('Headers:', req.headers);
  console.log('User-Agent:', req.headers['user-agent']);
  
  // Raw headers with keys and values as separate array elements
  console.log('Raw Headers:', req.rawHeaders);
  
  // Socket information
  console.log('Remote Address:', req.socket.remoteAddress);
  console.log('Remote Port:', req.socket.remotePort);
  
  // Reading the message body (if any)
  let body = [];
  req.on('data', (chunk) => {
    body.push(chunk);
  });
  
  req.on('end', () => {
    body = Buffer.concat(body).toString();
    console.log('Request body:', body);
    
    // Now that we have the body, send a response
    res.writeHead(200, { 'Content-Type': 'application/json' });
    res.end(JSON.stringify({
      httpVersion: req.httpVersion,
      method: req.method,
      url: req.url,
      headers: req.headers,
      body: body || null
    }));
  });
  
  // Handle errors
  req.on('error', (err) => {
    console.error('Request error:', err);
    res.statusCode = 400;
    res.end('Error: ' + err.message);
  });
});

// Start server
const PORT = 8080;
server.listen(PORT, () => {
  console.log(`Server running at http://localhost:${PORT}/`);
  
  // Make a test request
  http.request({
    hostname: 'localhost',
    port: PORT,
    path: '/test?param1=value1┬╢m2=value2',
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Custom-Header': 'Custom Value'
    }
  }, (res) => {
    res.resume(); // Consume response data
  }).end('{"message":"Hello from the client!"}');
});</code></pre>
                </div>
            </div>

            <!-- Client-side Message -->
            <div class="example-section" id="client-side">
                <h3>роХро┐ро│рпИропройрпНроЯрпН рокроХрпНроХ роЪрпЖропрпНродро┐ (рокродро┐ро▓рпН)</h3>
                
                <p>роЗроирпНрод роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ роХро┐ро│рпИропройрпНроЯрпН рокроХрпНроХродрпНродро┐ро▓рпН IncomingMessage рокрпКро░рпБро│рпИроХрпН роХрпИропро╛ро│рпБро╡родрпИ роиро┐ро░рпВрокро┐роХрпНроХро┐ро▒родрпБ:</p>
                
                <div class="code-example">
                    <pre><code>const http = require('http');

// Make an HTTP request
const req = http.request('http://example.com', (res) => {
  // 'res' is the IncomingMessage object (response)
  
  // Basic message properties
  console.log('Status Code:', res.statusCode);
  console.log('Status Message:', res.statusMessage);
  console.log('HTTP Version:', res.httpVersion);
  
  // Headers
  console.log('Headers:', res.headers);
  console.log('Content-Type:', res.headers['content-type']);
  console.log('Raw Headers:', res.rawHeaders);
  
  // Socket information
  console.log('Remote Address:', res.socket.remoteAddress);
  console.log('Remote Port:', res.socket.remotePort);
  
  // Reading the message body
  let body = [];
  
  // Data events emit when chunks of the body are received
  res.on('data', (chunk) => {
    body.push(chunk);
    console.log('Received chunk of', chunk.length, 'bytes');
  });
  
  // End event is emitted when the entire body has been received
  res.on('end', () => {
    body = Buffer.concat(body).toString();
    console.log('Body length:', body.length);
    console.log('Body preview:', body.substring(0, 100) + '...');
    
    // Check trailers (if any)
    console.log('Trailers:', res.trailers);
    console.log('Raw Trailers:', res.rawTrailers);
    
    // Check if message is complete
    console.log('Message complete:', res.complete);
  });
  
  // Handle message errors
  res.on('error', (err) => {
    console.error('Response error:', err);
  });
});

// Handle request errors
req.on('error', (err) => {
  console.error('Request error:', err);
});

// End the request
req.end();</code></pre>
                </div>
            </div>

            <!-- Handling Message Body with Streams -->
            <div class="example-section" id="stream-handling">
                <h3>ро╕рпНроЯрпНро░рпАроорпНроХро│рпБроЯройрпН роЪрпЖропрпНродро┐ роЙроЯро▓рпИроХрпН роХрпИропро╛ро│рпБродро▓рпН</h3>
                
                <p>роЗроирпНрод роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ роХрпЛрокрпНрокрпБ рокродро┐ро╡рпЗро▒рпНро▒роЩрпНроХро│рпИ роХрпИропро╛ро│ роТро░рпБ роЪрпЗро╡рпИропроХродрпНродрпИ роЙро░рпБро╡ро╛роХрпНроХро┐, роЪрпЖропрпНродро┐ роЙроЯро▓рпИ роирпЗро░роЯро┐ропро╛роХ роТро░рпБ роХрпЛрокрпНрокрпБроХрпНроХрпБ ро╕рпНроЯрпНро░рпАроорпН роЪрпЖропрпНроХро┐ро▒родрпБ:</p>
                
                <div class="code-example">
                    <pre><code>const http = require('http');
const fs = require('fs');
const path = require('path');

// Create a server to handle file uploads
const server = http.createServer((req, res) => {
  if (req.method === 'POST' && req.url === '/upload') {
    // Create a write stream to a file
    const filePath = path.join(__dirname, 'uploaded-file.txt');
    const fileStream = fs.createWriteStream(filePath);
    
    // Pipe the request body directly to the file
    req.pipe(fileStream);
    
    // Handle completion
    fileStream.on('finish', () => {
      // Get file stats to check size
      fs.stat(filePath, (err, stats) => {
        if (err) {
          console.error('Error getting file stats:', err);
          res.writeHead(500, {'Content-Type': 'text/plain'});
          res.end('Error processing upload');
          return;
        }
        
        // Send response
        res.writeHead(200, {'Content-Type': 'application/json'});
        res.end(JSON.stringify({
          success: true,
          message: 'File uploaded successfully',
          size: stats.size,
          path: filePath
        }));
        
        console.log(`File uploaded to ${filePath}`);
        console.log(`File size: ${stats.size} bytes`);
        
        // Clean up the file after a delay
        setTimeout(() => {
          fs.unlink(filePath, (err) => {
            if (err) console.error('Error removing uploaded file:', err);
            else console.log('Uploaded file removed');
          });
        }, 5000);
      });
    });
    
    // Handle errors
    fileStream.on('error', (err) => {
      console.error('File write error:', err);
      res.writeHead(500, {'Content-Type': 'text/plain'});
      res.end('Error saving file');
    });
    
    req.on('error', (err) => {
      console.error('Request error:', err);
      fileStream.destroy(err);
    });
  }
  else if (req.method === 'GET' && req.url === '/') {
    // Provide a simple HTML form for uploading
    res.writeHead(200, {'Content-Type': 'text/html'});
    res.end(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>File Upload Example</title>
      </head>
      <body>
        <h1>Upload a Text File</h1>
        <form action="/upload" method="post" enctype="multipart/form-data">
          <input type="file" name="file" accept=".txt">
          <button type="submit">Upload</button>
        </form>
        <p>Note: This is a simple example. A real implementation would need to parse multipart form data.</p>
      </body>
      </html>
    `);
  }
  else {
    // Handle all other requests
    res.writeHead(404, {'Content-Type': 'text/plain'});
    res.end('Not Found');
  }
});

// Start server
const PORT = 8080;
server.listen(PORT, () => {
  console.log(`Server running at http://localhost:${PORT}/`);
  
  // Make a test upload
  setTimeout(() => {
    const req = http.request({
      hostname: 'localhost',
      port: PORT,
      path: '/upload',
      method: 'POST',
      headers: {
        'Content-Type': 'text/plain'
      }
    }, (res) => {
      let data = '';
      res.on('data', (chunk) => { data += chunk; });
      res.on('end', () => {
        console.log('Upload response:', data);
      });
    });
    
    req.on('error', (e) => {
      console.error('Test request error:', e.message);
    });
    
    // Write some content to upload
    req.write('This is a test file content uploaded using http.request.\n');
    req.write('It demonstrates streaming data to the server.\n');
    req.end();
  }, 1000);
});</code></pre>
                </div>
            </div>

            <!-- Handling Message Trailers -->
            <div class="example-section" id="trailers">
                <h3>роЪрпЖропрпНродро┐ роЯро┐ро░рпЖропрпНро▓ро░рпНроХро│рпИроХрпН роХрпИропро╛ро│рпБродро▓рпН</h3>
                
                <p>роЗроирпНрод роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ HTTP роЯро┐ро░рпЖропрпНро▓ро░рпНроХро│рпИ (роЪрпЖропрпНродро┐ роЙроЯро▓рпБроХрпНроХрпБрокрпН рокро┐ро▒роХрпБ ро╡ро░рпБроорпН родро▓рпИрокрпНрокрпБроХро│рпН) роХрпИропро╛ро│рпБро╡родрпИ роиро┐ро░рпВрокро┐роХрпНроХро┐ро▒родрпБ:</p>
                
                <div class="code-example">
                    <pre><code>const http = require('http');
const zlib = require('zlib');

// Create an HTTP server that sends trailers
const server = http.createServer((req, res) => {
  // Inform the client we'll be sending trailers
  res.writeHead(200, {
    'Content-Type': 'text/plain',
    'Transfer-Encoding': 'chunked', // Required for trailers
    'Trailer': 'Content-MD5, X-Response-Time' // Declare which trailers will be sent
  });
  
  // Write some response data
  res.write('Beginning of the response\n');
  
  // Simulate processing time
  setTimeout(() => {
    res.write('Middle of the response\n');
    
    setTimeout(() => {
      // Final part of the body
      res.write('End of the response\n');
      
      // Add trailers
      res.addTrailers({
        'Content-MD5': 'e4e68fb7bd0e697a0ae8f1bb342846d3', // Would normally be the hash of the body
        'X-Response-Time': `${Date.now() - req.start}ms` // Processing time
      });
      
      // End the response
      res.end();
    }, 500);
  }, 500);
});

// Track request start time
server.on('request', (req) => {
  req.start = Date.now();
});

// Start server
const PORT = 8080;
server.listen(PORT, () => {
  console.log(`Server running at http://localhost:${PORT}/`);
  
  // Make a request to test trailers
  http.get(`http://localhost:${PORT}`, (res) => {
    console.log('Response status:', res.statusCode);
    console.log('Response headers:', res.headers);
    
    // Check if trailers are declared
    if (res.headers.trailer) {
      console.log('Trailer headers declared:', res.headers.trailer);
    }
    
    // Read the response body
    let body = '';
    
    res.on('data', (chunk) => {
      body += chunk;
      console.log('Received chunk:', chunk.toString());
    });
    
    // The 'end' event is emitted when the entire body has been received
    res.on('end', () => {
      console.log('Complete response body:', body);
      console.log('Trailers received:', res.trailers);
      
      // Server should close after test is complete
      server.close();
    });
  }).on('error', (err) => {
    console.error('Request error:', err);
  });
});</code></pre>
                </div>
            </div>

            <!-- Handling Large Messages with Flow Control -->
            <div class="example-section" id="flow-control">
                <h3>роУроЯрпНроЯроХрпН роХроЯрпНроЯрпБрокрпНрокро╛роЯрпНроЯрпБроЯройрпН рокрпЖро░ро┐роп роЪрпЖропрпНродро┐роХро│рпИроХрпН роХрпИропро╛ро│рпБродро▓рпН</h3>
                
                <p>роЗроирпНрод роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ роУроЯрпНроЯроХрпН роХроЯрпНроЯрпБрокрпНрокро╛роЯрпНроЯрпБроЯройрпН рокрпЖро░ро┐роп роЪрпЖропрпНродро┐ роЙроЯро▓рпНроХро│рпИроХрпН роХрпИропро╛ро│рпБро╡родрпИ роиро┐ро░рпВрокро┐роХрпНроХро┐ро▒родрпБ:</p>
                
                <div class="code-example">
                    <pre><code>const http = require('http');

// Create a server to handle large uploads with flow control
const server = http.createServer((req, res) => {
  if (req.method === 'POST' && req.url === '/large-upload') {
    // Set up variables to track data
    let dataSize = 0;
    let chunks = 0;
    
    // Switch to pause mode (by default it's in flowing mode)
    req.pause();
    
    console.log('Incoming large upload - using flow control');
    
    // Process data in chunks
    function processNextChunk() {
      // Resume the stream to get more data
      req.resume();
      
      // Set a timeout to pause after a bit
      setTimeout(() => {
        // Pause the stream again
        req.pause();
        
        console.log(`Processed chunk ${++chunks}, total ${dataSize} bytes so far`);
        
        // If there's more data to process, schedule the next chunk
        // Otherwise, wait for 'end' event to finish
        if (!req.complete) {
          // Schedule next chunk processing
          setTimeout(processNextChunk, 100);
        }
      }, 100); // Process for 100ms, then pause
    }
    
    // Listen for data events
    req.on('data', (chunk) => {
      dataSize += chunk.length;
    });
    
    // Handle request end
    req.on('end', () => {
      console.log(`Upload complete: ${dataSize} bytes received in ${chunks} chunks`);
      
      // Send a response
      res.writeHead(200, {'Content-Type': 'application/json'});
      res.end(JSON.stringify({
        success: true,
        bytesReceived: dataSize,
        chunks: chunks
      }));
    });
    
    // Handle errors
    req.on('error', (err) => {
      console.error('Request error:', err);
      
      res.writeHead(500, {'Content-Type': 'text/plain'});
      res.end('Error processing upload: ' + err.message);
    });
    
    // Start processing
    processNextChunk();
  }
  else {
    // Handle other requests
    res.writeHead(404, {'Content-Type': 'text/plain'});
    res.end('Not Found');
  }
});

// Start server
const PORT = 8080;
server.listen(PORT, () => {
  console.log(`Server running at http://localhost:${PORT}/`);
  
  // Create a test client to simulate large upload
  console.log('Simulating large upload...');
  
  const req = http.request({
    hostname: 'localhost',
    port: PORT,
    path: '/large-upload',
    method: 'POST',
    headers: {
      'Content-Type': 'application/octet-stream'
    }
  }, (res) => {
    // Handle response
    let responseData = '';
    
    res.on('data', (chunk) => {
      responseData += chunk;
    });
    
    res.on('end', () => {
      console.log('Server response:', responseData);
      
      // Close the server after the test
      server.close();
    });
  });
  
  req.on('error', (err) => {
    console.error('Upload request error:', err);
  });
  
  // Generate and send a large body in chunks
  function sendChunk(i, total) {
    if (i >= total) {
      // All chunks sent, end the request
      req.end();
      return;
    }
    
    // Create a 10KB chunk
    const chunk = Buffer.alloc(10240);
    chunk.fill(65 + (i % 26)); // Fill with repeating letters
    
    // Write the chunk
    const canContinue = req.write(chunk);
    
    // Log progress
    if (i % 10 === 0) {
      console.log(`Sent chunk ${i}/${total} (${i * 10240} bytes)`);
    }
    
    // If we can continue writing, schedule next chunk
    if (canContinue) {
      // Schedule next chunk
      setImmediate(() => sendChunk(i + 1, total));
    } else {
      // If backpressure is applied, wait for drain event
      console.log('Backpressure applied, waiting for drain');
      req.once('drain', () => {
        console.log('Drained, continuing upload');
        sendChunk(i + 1, total);
      });
    }
  }
  
  // Start sending chunks (50 chunks = ~500KB)
  sendChunk(0, 50);
});</code></pre>
                </div>
            </div>
        </section>

        <!-- Best Practices -->
        <section class="content-section" id="best-practices">
            <h2>роЪро┐ро▒роирпНрод роироЯрпИроорпБро▒рпИроХро│рпН</h2>
            
            <div class="best-practice-list">
                <div class="practice-item positive">
                    <i class="fas fa-check-circle"></i>
                    <span><strong>роорпБро┤рпБроорпИропро╛рой роЪрпЖропрпНродро┐роХро│рпИроЪрпН роЪро░ро┐рокро╛ро░рпНроХрпНроХро╡рпБроорпН:</strong> роорпБро┤рпБ роЪрпЖропрпНродро┐ропрпБроорпН рокрпЖро▒рокрпНрокроЯрпНроЯрпБро│рпНро│родро╛ роОройрпНрокродрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНрод message.complete роРрокрпН рокропройрпНрокроЯрпБродрпНродро╡рпБроорпН</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span><strong>рокро┐ро┤рпИроХро│рпИроХрпН роХрпИропро╛ро│ро╡рпБроорпН:</strong> роЪрпЖропрпНродро┐ рокрпКро░рпБро│рпНроХро│ро┐ро▓рпН 'error' роиро┐роХро┤рпНро╡рпИ роОрокрпНрокрпЛродрпБроорпН роХрпЗро│рпБроЩрпНроХро│рпН</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-tachometer-alt"></i>
                    <span><strong>роУроЯрпНроЯроХрпН роХроЯрпНроЯрпБрокрпНрокро╛роЯрпБ:</strong> рокрпЖро░ро┐роп роЪрпЖропрпНродро┐роХро│рпБроХрпНроХрпБ, родро░ро╡рпБ роУроЯрпНроЯродрпНродрпИроХрпН роХроЯрпНроЯрпБрокрпНрокроЯрпБродрпНрод pause() рооро▒рпНро▒рпБроорпН resume() роРрокрпН рокропройрпНрокроЯрпБродрпНродро╡рпБроорпН</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-stream"></i>
                    <span><strong>ро╕рпНроЯрпНро░рпАроорпН роЪрпЖропро▓ро╛роХрпНроХроорпН:</strong> роЪрпЖропрпНродро┐ роЙроЯро▓рпНроХро│ро┐ройрпН родро┐ро▒ройро╛рой роЪрпЖропро▓ро╛роХрпНроХродрпНродро┐ро▒рпНроХрпБ pipe() рокрпЛройрпНро▒ ро╕рпНроЯрпНро░рпАроорпН роорпБро▒рпИроХро│рпИрокрпН рокропройрпНрокроЯрпБродрпНродро╡рпБроорпН</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-memory"></i>
                    <span><strong>роиро┐ройрпИро╡роХ роорпЗро▓ро╛рогрпНроорпИ:</strong> рокрпЖро░ро┐роп роЪрпЖропрпНродро┐роХро│рпБроХрпНроХрпБ, роорпБро┤рпБ роЪрпЖропрпНродро┐ропрпИропрпБроорпН роиро┐ройрпИро╡роХродрпНродро┐ро▓рпН роПро▒рпНро▒рпБро╡родро▒рпНроХрпБрокрпН рокродро┐ро▓ро╛роХ родрпБрогрпНроЯрпБроХро│ро┐ро▓рпН родро░ро╡рпИроЪрпН роЪрпЖропро▓ро╛роХрпНроХро╡рпБроорпН</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-link"></i>
                    <span><strong>URL рокро╛роХрпБрокроЯрпБродрпНродрпБродро▓рпН:</strong> request.url роЗро▓ро┐ро░рпБроирпНродрпБ URL роЪро░роЩрпНроХро│рпИрокрпН рокро╛роХрпБрокроЯрпБродрпНрод url родрпКроХрпБродро┐ропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро╡рпБроорпН</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-heading"></i>
                    <span><strong>родро▓рпИрокрпНрокрпБ роХрпИропро╛ро│рпБродро▓рпН:</strong> HTTP родро▓рпИрокрпНрокрпБроХро│рпН case-insensitive роОройрпНрокродрпИ роЕро▒ро┐роирпНродрпБ роХрпКро│рпНро│рпБроЩрпНроХро│рпН, роЖройро╛ро▓рпН Node.js роЕро╡ро▒рпНро▒рпИ роЪро┐ро▒ро┐роп роОро┤рпБродрпНродрпБроХрпНроХро│ро╛роХ рооро╛ро▒рпНро▒рпБроХро┐ро▒родрпБ</span>
                </div>
            </div>
        </section>

        <!-- Exercise Section -->
        <section class="content-section" id="exercise">
            <h2>рокропро┐ро▒рпНроЪро┐</h2>
            
            <div class="exercise-box">
                <h4><span class="exercise-icon">тЭУ</span> Node.js роЗро▓рпН HTTP роХрпЛро░ро┐роХрпНроХрпИ рооро▒рпНро▒рпБроорпН рокродро┐ро▓рпН роЪрпЖропрпНродро┐роХро│рпИроХрпН роХрпБро▒ро┐роХрпНроХрпБроорпН рокрпКро░рпБро│рпН роОродрпБ? родрпЗро░рпНро╡рпБ роЪрпЖропрпНропро╡рпБроорпН.</h4>
                
                <div class="options-grid">
                    <div class="option-card" data-correct="false">
                        <div class="option-content">
                            <div class="option-text">http.ServerMessage</div>
                            <div class="option-feedback incorrect">тЬЧ родро╡ро▒рпБ! "http.ServerMessage" роОройрпНрокродрпБ Node.js роЗро▓рпН роТро░рпБ роЪрпЖро▓рпНро▓рпБрокроЯро┐ропро╛роХрпБроорпН рокрпКро░рпБро│рпН роЕро▓рпНро▓</div>
                        </div>
                    </div>
                    
                    <div class="option-card" data-correct="false">
                        <div class="option-content">
                            <div class="option-text">http.RequestObject</div>
                            <div class="option-feedback incorrect">тЬЧ родро╡ро▒рпБ! "http.RequestObject" роОройрпНрокродрпБ Node.js роЗро▓рпН роТро░рпБ роЪрпЖро▓рпНро▓рпБрокроЯро┐ропро╛роХрпБроорпН рокрпКро░рпБро│рпН роЕро▓рпНро▓</div>
                        </div>
                    </div>
                    
                    <div class="option-card" data-correct="true">
                        <div class="option-content">
                            <div class="option-text">http.IncomingMessage</div>
                            <div class="option-feedback correct">тЬУ роЪро░ро┐! "http.IncomingMessage" роОройрпНрокродрпБ Node.js роЗро▓рпН HTTP роХрпЛро░ро┐роХрпНроХрпИ рооро▒рпНро▒рпБроорпН рокродро┐ро▓рпН роЪрпЖропрпНродро┐роХро│рпИроХрпН роХрпБро▒ро┐роХрпНроХрпБроорпН роЪро░ро┐ропро╛рой рокрпКро░рпБро│ро╛роХрпБроорпН</div>
                        </div>
                    </div>
                    
                    <div class="option-card" data-correct="false">
                        <div class="option-content">
                            <div class="option-text">http.MessageHandler</div>
                            <div class="option-feedback incorrect">тЬЧ родро╡ро▒рпБ! "http.MessageHandler" роОройрпНрокродрпБ Node.js роЗро▓рпН роТро░рпБ роЪрпЖро▓рпНро▓рпБрокроЯро┐ропро╛роХрпБроорпН рокрпКро░рпБро│рпН роЕро▓рпНро▓</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <a href="Node.js Response Reference.html" class="nav-tab prev">
                <i class="fas fa-arrow-left"></i>
                <span>роорпБроирпНродрпИроп</span>
            </a>
            <a href="Node.js Interface Reference.html" class="nav-tab next">
                <span>роЕроЯрпБродрпНродродрпБ</span>
                <i class="fas fa-arrow-right"></i>
            </a>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-column">
                <h3>Jassif Team Institution</h3>
                <p>Leading educational institution providing quality programming education in Tamil.</p>
            </div>
            <div class="footer-column">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="#message-object">HTTP роЪрпЖропрпНродро┐ рокрпКро░рпБро│рпН</a></li>
                    <li><a href="#message-properties">роЪрпЖропрпНродро┐ рокрогрпНрокрпБроХро│рпН</a></li>
                    <li><a href="#message-methods">роЪрпЖропрпНродро┐ роорпБро▒рпИроХро│рпН</a></li>
                    <li><a href="#examples">роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБроХро│рпН</a></li>
                    <li><a href="#exercise">рокропро┐ро▒рпНроЪро┐</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Contact</h3>
                <ul>
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">Contact Us</a></li>
                    <li><a href="#">Location & Hours</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Follow Us</h3>
                <ul>
                    <li><a href="#"><i class="fab fa-facebook"></i> Facebook</a></li>
                    <li><a href="#"><i class="fab fa-instagram"></i> Instagram</a></li>
                    <li><a href="#"><i class="fab fa-youtube"></i> YouTube</a></li>
                </ul>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2023 Jassif Team Institution. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Add smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if(targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if(targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }
            });
        });
        
        // Add scroll animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.animation = 'fadeInUp 0.8s ease-out forwards';
                }
            });
        }, observerOptions);
        
        // Observe all content sections for animation
        document.querySelectorAll('.content-section').forEach(section => {
            observer.observe(section);
        });

        // Exercise interaction
        document.querySelectorAll('.option-card').forEach(card => {
            card.addEventListener('click', function() {
                // Show feedback for all options
                document.querySelectorAll('.option-card').forEach(c => {
                    c.querySelector('.option-feedback').style.display = 'block';
                });
            });
        });
    </script>

    <!-- Home Button -->
    <a href="index.html" class="home-icon">
        <i class="fas fa-home"></i>
    </a>
</body>
</html>