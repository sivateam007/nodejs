<!DOCTYPE html>
<html lang="ta">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node.js MongoDB Create Collection - Jassif Team Institution</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        .content-section p, 
        .content-section li,
        .content-section h3,
        .content-section h4,
        .comparison-card p {
            color: #333 !important;
        }
        
        .tip-box p,
        .tip-box li,
        .tip-box h4 {
            color: white !important;
        }
        
        .warning-box p,
        .warning-box li,
        .warning-box h4 {
            color: white !important;
        }
        
        .exercise-box p,
        .exercise-box h4 {
            color: white !important;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-container">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <h1>Jassif Team <span>Institution</span></h1>
            </div>
        </div>
    </header>

    <!-- Top Navigation Tabs -->
    <div class="nav-tabs">
        <a href="Node.js MongoDB Create Database.html" class="nav-tab prev">
            <i class="fas fa-arrow-left"></i>
            <span>முந்தைய</span>
        </a>
        <a href="Node.js MongoDB Insert.html" class="nav-tab next">
            <span>அடுத்தது</span>
            <i class="fas fa-arrow-right"></i>
        </a>
    </div>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content">
            <h2>Node.js MongoDB Create Collection</h2>
            <p>Node.js ஐப் பயன்படுத்தி MongoDB தொகுப்புகளை உருவாக்க கற்றுக்கொள்ளுங்கள்</p>
        </div>
    </section>

    <!-- Main Content -->
    <main class="container">
        <!-- Collection Introduction -->
        <section class="content-section" id="collection-intro">
            <h2>தொகுப்பு அறிமுகம்</h2>
            
            <p>MongoDB இல் உள்ள ஒரு தொகுப்பு MySQL இல் உள்ள அட்டவணைக்கு சமமானதாகும்</p>
            
            <div class="comparison-grid">
                <div class="comparison-card">
                    <div class="comparison-header">
                        <i class="fas fa-table"></i>
                        <h4>MySQL அட்டவணை</h4>
                    </div>
                    <ul>
                        <li>நிர்ணயிக்கப்பட்ட கட்டமைப்பு</li>
                        <li>நெடுவரிசைகள் மற்றும் வரிசைகள்</li>
                        <li>வரையறுக்கப்பட்ட தரவு வகைகள்</li>
                        <li>முன்கூட்டியே வரையறுக்கப்பட்டது</li>
                    </ul>
                </div>
                
                <div class="comparison-card">
                    <div class="comparison-header">
                        <i class="fas fa-folder"></i>
                        <h4>MongoDB தொகுப்பு</h4>
                    </div>
                    <ul>
                        <li>நெகிழ்வான கட்டமைப்பு</li>
                        <li>ஆவணங்கள் (JSON போன்றது)</li>
                        <li>வெவ்வேறு தரவு வகைகள்</li>
                        <li>தானாக உருவாக்கப்படும்</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Creating a Collection -->
        <section class="content-section" id="creating-collection">
            <h2>தொகுப்பை உருவாக்குதல்</h2>
            
            <p>MongoDB இல் ஒரு தொகுப்பை உருவாக்க, createCollection() முறையைப் பயன்படுத்தவும்:</p>
            
            <h3>எடுத்துக்காட்டு</h3>
            <p>"customers" என்ற தொகுப்பை உருவாக்கவும்:</p>
            
            <div class="code-example">
                <pre><code>let MongoClient = require('mongodb').MongoClient;
let url = "mongodb://localhost:27017/";

MongoClient.connect(url, function(err, db) {
  if (err) throw err;
  let dbo = db.db("mydb");
  dbo.createCollection("customers", function(err, res) {
    if (err) throw err;
    console.log("Collection created!");
    db.close();
  });
});</code></pre>
            </div>
            
            <p>மேலே உள்ள குறியீட்டை "demo_mongodb_createcollection.js" என்ற கோப்பில் சேமித்து கோப்பை இயக்கவும்:</p>
            
            <div class="code-example">
                <pre><code>C:\Users\Your Name>node demo_mongodb_createcollection.js</code></pre>
            </div>
            
            <p>இது உங்களுக்கு இந்த முடிவைக் கொடுக்கும்:</p>
            
            <div class="code-example">
                <pre><code>Collection created!</code></pre>
            </div>
            
            <div class="warning-box">
                <h4><span class="warning-icon">⚠️</span> முக்கியமான குறிப்பு:</h4>
                <p>MongoDB இல், உள்ளடக்கம் கிடைக்கும் வரை ஒரு தொகுப்பு உருவாக்கப்படாது!</p>
                <p>தொகுப்பை உண்மையில் உருவாக்குவதற்கு முன்பு, MongoDB நீங்கள் ஒரு ஆவணத்தைச் செருகும் வரை காத்திருக்கும்.</p>
            </div>
        </section>

        <!-- Modern Collection Creation -->
        <section class="content-section" id="modern-collection">
            <h2>நவீன தொகுப்பு உருவாக்கம்</h2>
            
            <h3>நவீன async/await தொடரியல்</h3>
            
            <div class="code-example">
                <pre><code>const { MongoClient } = require('mongodb');

async function createCollectionModern() {
  const uri = "mongodb://localhost:27017/";
  const client = new MongoClient(uri);

  try {
    await client.connect();
    const database = client.db("mydb");
    
    // Create collection explicitly
    const collection = await database.createCollection("customers");
    console.log("Collection created successfully:", collection.collectionName);
    
  } catch (err) {
    console.error("Error creating collection:", err);
  } finally {
    await client.close();
  }
}

createCollectionModern();</code></pre>
            </div>
            
            <h3>தானாக தொகுப்பு உருவாக்கம்</h3>
            
            <div class="code-example">
                <pre><code>const { MongoClient } = require('mongodb');

async function autoCreateCollection() {
  const uri = "mongodb://localhost:27017/";
  const client = new MongoClient(uri);

  try {
    await client.connect();
    const database = client.db("mydb");
    
    // Collection will be created automatically on first insert
    const collection = database.collection("customers");
    
    // Insert first document - this creates the collection
    const result = await collection.insertOne({
      name: "John Doe",
      email: "john@example.com",
      createdAt: new Date()
    });
    
    console.log("Collection created automatically with first document");
    console.log("Document inserted with id:", result.insertedId);
    
  } catch (err) {
    console.error("Error:", err);
  } finally {
    await client.close();
  }
}

autoCreateCollection();</code></pre>
            </div>
        </section>

        <!-- Collection Options -->
        <section class="content-section" id="collection-options">
            <h2>தொகுப்பு விருப்பங்கள்</h2>
            
            <h3>சரிசெய்த தொகுப்பு உருவாக்கம்</h3>
            
            <div class="code-example">
                <pre><code>const { MongoClient } = require('mongodb');

async function createCappedCollection() {
  const uri = "mongodb://localhost:27017/";
  const client = new MongoClient(uri);

  try {
    await client.connect();
    const database = client.db("mydb");
    
    // Create a capped collection (fixed size)
    const collection = await database.createCollection("logs", {
      capped: true,
      size: 1000000, // 1MB in bytes
      max: 1000      // Maximum 1000 documents
    });
    
    console.log("Capped collection created successfully");
    
  } catch (err) {
    console.error("Error creating capped collection:", err);
  } finally {
    await client.close();
  }
}

createCappedCollection();</code></pre>
            </div>
            
            <h3>சரிபார்ப்பு விதிகளுடன் தொகுப்பு</h3>
            
            <div class="code-example">
                <pre><code>const { MongoClient } = require('mongodb');

async function createValidatedCollection() {
  const uri = "mongodb://localhost:27017/";
  const client = new MongoClient(uri);

  try {
    await client.connect();
    const database = client.db("mydb");
    
    // Create collection with validation rules
    const collection = await database.createCollection("users", {
      validator: {
        $jsonSchema: {
          bsonType: "object",
          required: ["name", "email"],
          properties: {
            name: {
              bsonType: "string",
              description: "must be a string and is required"
            },
            email: {
              bsonType: "string",
              pattern: "^.+@.+\\..+$",
              description: "must be a valid email and is required"
            },
            age: {
              bsonType: "int",
              minimum: 0,
              maximum: 150,
              description: "must be an integer between 0 and 150"
            }
          }
        }
      }
    });
    
    console.log("Validated collection created successfully");
    
  } catch (err) {
    console.error("Error creating validated collection:", err);
  } finally {
    await client.close();
  }
}

createValidatedCollection();</code></pre>
            </div>
        </section>

        <!-- Collection Management -->
        <section class="content-section" id="collection-management">
            <h2>தொகுப்பு நிர்வாகம்</h2>
            
            <h3>தொகுப்புகளைப் பட்டியலிடுதல்</h3>
            
            <div class="code-example">
                <pre><code>const { MongoClient } = require('mongodb');

async function listCollections() {
  const uri = "mongodb://localhost:27017/";
  const client = new MongoClient(uri);

  try {
    await client.connect();
    const database = client.db("mydb");
    
    const collections = await database.listCollections().toArray();
    
    console.log("Collections in database:");
    collections.forEach(collection => {
      console.log(` - ${collection.name}`);
    });
    
  } catch (err) {
    console.error("Error listing collections:", err);
  } finally {
    await client.close();
  }
}

listCollections();</code></pre>
            </div>
            
            <h3>தொகுப்பு இருப்பைச் சரிபார்க்கவும்</h3>
            
            <div class="code-example">
                <pre><code>const { MongoClient } = require('mongodb');

async function checkCollectionExists() {
  const uri = "mongodb://localhost:27017/";
  const client = new MongoClient(uri);

  try {
    await client.connect();
    const database = client.db("mydb");
    
    const collections = await database.listCollections().toArray();
    const exists = collections.some(col => col.name === "customers");
    
    if (exists) {
      console.log("Collection 'customers' exists");
    } else {
      console.log("Collection 'customers' does not exist");
    }
    
  } catch (err) {
    console.error("Error checking collection:", err);
  } finally {
    await client.close();
  }
}

checkCollectionExists();</code></pre>
            </div>
        </section>

        <!-- Collection Types and Use Cases -->
        <section class="content-section" id="collection-types">
            <h2>தொகுப்பு வகைகள் மற்றும் பயன்பாட்டு நிகழ்வுகள்</h2>
            
            <div class="comparison-table">
                <table>
                    <thead>
                        <tr>
                            <th>தொகுப்பு வகை</th>
                            <th>விளக்கம்</th>
                            <th>பயன்பாட்டு நிகழ்வுகள்</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>இயல்பான தொகுப்பு</strong></td>
                            <td>கட்டுப்பாடுகள் இல்லாத நெகிழ்வான தொகுப்பு</td>
                            <td>பயனர் தரவு, தயாரிப்புகள், உத்தியோகபூர்வ தரவு</td>
                        </tr>
                        <tr>
                            <td><strong>சரிசெய்த தொகுப்பு</strong></td>
                            <td>நிலையான அளவு கொண்ட தொகுப்பு</td>
                            <td>பதிவுகள், அடுக்கு தரவு, உணரி வாசிப்புகள்</td>
                        </tr>
                        <tr>
                            <td><strong>சரிபார்க்கப்பட்ட தொகுப்பு</strong></td>
                            <td>தரவு சரிபார்ப்பு விதிகள் கொண்ட தொகுப்பு</td>
                            <td>முக்கியமான தரவு, பயனர் உள்ளீடு, API தரவு</td>
                        </tr>
                        <tr>
                            <td><strong>காலவரையற்ற தொகுப்பு</strong></td>
                            <td>காலவரையின்றி தரவு சேமிக்கும் தொகுப்பு</td>
                            <td>வரலாற்று தரவு, ஆவணக் காப்பகங்கள்</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Best Practices -->
        <section class="content-section" id="best-practices">
            <h2>தொகுப்பு உருவாக்க சிறந்த நடைமுறைகள்</h2>
            
            <div class="comparison-grid">
                <div class="comparison-card">
                    <div class="comparison-header">
                        <i class="fas fa-tags"></i>
                        <h4>பெயரிடும் மரபுகள்</h4>
                    </div>
                    <ul>
                        <li>பன்மை பெயர்களைப் பயன்படுத்தவும் (users, products)</li>
                        <li>சிறிய எழுத்துக்களைப் பயன்படுத்தவும்</li>
                        <li>அடிக்கோடுகளைத் தவிர்க்கவும்</li>
                        <li>விவரிக்கும் பெயர்களைப் பயன்படுத்தவும்</li>
                    </ul>
                </div>
                
                <div class="comparison-card">
                    <div class="comparison-header">
                        <i class="fas fa-cog"></i>
                        <h4>கட்டமைப்பு உத்திகள்</h4>
                    </div>
                    <ul>
                        <li>தேவைக்கேற்ப வெவ்வேறு தொகுப்புகளை உருவாக்கவும்</li>
                        <li>தரவு அணுகல் வடிவங்களைக் கருத்தில் கொள்ளவும்</li>
                        <li>அளவிடுதல் தேவைகளைத் திட்டமிடவும்</li>
                        <li>குறியீட்டு உத்திகளைத் திட்டமிடவும்</li>
                    </ul>
                </div>
                
                <div class="comparison-card">
                    <div class="comparison-header">
                        <i class="fas fa-shield-alt"></i>
                        <h4>தரவு ஒருமைப்பாடு</h4>
                    </div>
                    <ul>
                        <li>முக்கியமான தரவுக்கு சரிபார்ப்பு விதிகளைப் பயன்படுத்தவும்</li>
                        <li>தேவையான புலங்களைக் குறிப்பிடவும்</li>
                        <li>தரவு வகை கட்டுப்பாடுகளை அமைக்கவும்</li>
                        <li>தொகுப்பு அனுமதிகளை உள்ளமைக்கவும்</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Complete Example -->
        <section class="content-section" id="complete-example">
            <h2>முழுமையான எடுத்துக்காட்டு</h2>
            
            <p>தொகுப்பு உருவாக்கம் மற்றும் நிர்வாகத்தின் முழுமையான எடுத்துக்காட்டு:</p>
            
            <div class="code-example">
                <pre><code>const { MongoClient } = require('mongodb');

class CollectionManager {
  constructor(connectionString, dbName) {
    this.connectionString = connectionString;
    this.dbName = dbName;
    this.client = new MongoClient(connectionString);
  }

  async connect() {
    try {
      await this.client.connect();
      console.log("Connected to MongoDB server");
      this.database = this.client.db(this.dbName);
      return true;
    } catch (error) {
      console.error("Connection failed:", error);
      return false;
    }
  }

  async createCollection(collectionName, options = {}) {
    try {
      const collection = await this.database.createCollection(collectionName, options);
      console.log(`Collection '${collectionName}' created successfully`);
      return collection;
    } catch (error) {
      console.error(`Error creating collection '${collectionName}':`, error);
      throw error;
    }
  }

  async getOrCreateCollection(collectionName) {
    try {
      // Check if collection exists
      const collections = await this.database.listCollections().toArray();
      const exists = collections.some(col => col.name === collectionName);
      
      if (exists) {
        console.log(`Collection '${collectionName}' already exists`);
        return this.database.collection(collectionName);
      } else {
        return await this.createCollection(collectionName);
      }
    } catch (error) {
      console.error(`Error getting/creating collection '${collectionName}':`, error);
      throw error;
    }
  }

  async listAllCollections() {
    try {
      const collections = await this.database.listCollections().toArray();
      console.log(`Found ${collections.length} collections:`);
      collections.forEach(collection => {
        console.log(` - ${collection.name}`);
      });
      return collections;
    } catch (error) {
      console.error("Error listing collections:", error);
      throw error;
    }
  }

  async close() {
    try {
      await this.client.close();
      console.log("Connection closed");
    } catch (error) {
      console.error("Error closing connection:", error);
    }
  }
}

// Usage example
async function main() {
  const connectionString = "mongodb://localhost:27017/";
  const dbName = "mydb";
  
  const collectionManager = new CollectionManager(connectionString, dbName);

  try {
    const connected = await collectionManager.connect();
    if (!connected) return;

    // Create a regular collection
    await collectionManager.createCollection("users");
    
    // Create a collection with validation
    await collectionManager.createCollection("products", {
      validator: {
        $jsonSchema: {
          bsonType: "object",
          required: ["name", "price"],
          properties: {
            name: { bsonType: "string" },
            price: { bsonType: "double", minimum: 0 }
          }
        }
      }
    });
    
    // Get or create collection (idempotent)
    const customersCollection = await collectionManager.getOrCreateCollection("customers");
    
    // List all collections
    await collectionManager.listAllCollections();
    
    console.log("Collection setup completed successfully!");
    
  } catch (error) {
    console.error("Main function error:", error);
  } finally {
    await collectionManager.close();
  }
}

// Run the example
main();</code></pre>
            </div>
        </section>

        <!-- Exercise Section -->
        <section class="content-section" id="exercise">
            <h2>பயிற்சி</h2>
            
            <div class="exercise-box">
                <h4><span class="exercise-icon">❓</span> MongoDB இல் உள்ள ஒரு தொகுப்பு MySQL இல் உள்ள ______ க்கு சமமானதாகும்.</h4>
                
                <div class="options-grid">
                    <div class="option-card" data-correct="false">
                        <div class="option-content">
                            <div class="option-text">தரவுத்தளம்</div>
                            <div class="option-feedback incorrect">✗ தவறு! MongoDB இல் தரவுத்தளம் என்பது MySQL இல் உள்ள தரவுத்தளத்திற்கு சமமானதாகும், தொகுப்பு அல்ல</div>
                        </div>
                    </div>
                    
                    <div class="option-card" data-correct="false">
                        <div class="option-content">
                            <div class="option-text">நெடுவரிசை</div>
                            <div class="option-feedback incorrect">✗ தவறு! நெடுவரிசை என்பது MySQL இல் உள்ள ஒரு தனி தரவு புலமாகும், முழு அட்டவணை அல்ல</div>
                        </div>
                    </div>
                    
                    <div class="option-card" data-correct="true">
                        <div class="option-content">
                            <div class="option-text">அட்டவணை</div>
                            <div class="option-feedback correct">✓ சரி! MongoDB இல் உள்ள தொகுப்பு MySQL இல் உள்ள அட்டவணைக்கு சமமானதாகும். இரண்டும் தொடர்புடைய தரவு எண்ணிக்கையைக் கொண்டுள்ளன</div>
                        </div>
                    </div>
                    
                    <div class="option-card" data-correct="false">
                        <div class="option-content">
                            <div class="option-text">வரிசை</div>
                            <div class="option-feedback incorrect">✗ தவறு! வரிசை என்பது MySQL இல் உள்ள ஒரு தனி பதிவாகும், MongoDB இல் இது ஒரு ஆவணத்திற்கு சமமானதாகும்</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <a href="Node.js MongoDB Create Database.html" class="nav-tab prev">
                <i class="fas fa-arrow-left"></i>
                <span>முந்தைய</span>
            </a>
            <a href="Node.js MongoDB Insert.html" class="nav-tab next">
                <span>அடுத்தது</span>
                <i class="fas fa-arrow-right"></i>
            </a>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-column">
                <h3>Jassif Team Institution</h3>
                <p>Leading educational institution providing quality programming education in Tamil.</p>
            </div>
            <div class="footer-column">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="#collection-intro">தொகுப்பு அறிமுகம்</a></li>
                    <li><a href="#creating-collection">தொகுப்பை உருவாக்குதல்</a></li>
                    <li><a href="#modern-collection">நவீன தொகுப்பு உருவாக்கம்</a></li>
                    <li><a href="#collection-options">தொகுப்பு விருப்பங்கள்</a></li>
                    <li><a href="#exercise">பயிற்சி</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Contact</h3>
                <ul>
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">Contact Us</a></li>
                    <li><a href="#">Location & Hours</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Follow Us</h3>
                <ul>
                    <li><a href="#"><i class="fab fa-facebook"></i> Facebook</a></li>
                    <li><a href="#"><i class="fab fa-instagram"></i> Instagram</a></li>
                    <li><a href="#"><i class="fab fa-youtube"></i> YouTube</a></li>
                </ul>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2023 Jassif Team Institution. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Add smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if(targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if(targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }
            });
        });
        
        // Add scroll animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.animation = 'fadeInUp 0.8s ease-out forwards';
                }
            });
        }, observerOptions);
        
        // Observe all content sections for animation
        document.querySelectorAll('.content-section').forEach(section => {
            observer.observe(section);
        });

        // Exercise interaction
        document.querySelectorAll('.option-card').forEach(card => {
            card.addEventListener('click', function() {
                // Show feedback for all options
                document.querySelectorAll('.option-card').forEach(c => {
                    c.querySelector('.option-feedback').style.display = 'block';
                });
            });
        });
    </script>

    <!-- Home Button -->
    <a href="index.html" class="home-icon">
        <i class="fas fa-home"></i>
    </a>
</body>
</html>