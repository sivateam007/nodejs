<!DOCTYPE html>
<html lang="ta">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node.js Cluster Module - Jassif Team Institution</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        .content-section p, 
        .content-section li,
        .content-section h3,
        .content-section h4,
        .comparison-card p {
            color: #333 !important;
        }
        
        .tip-box p,
        .tip-box li,
        .tip-box h4 {
            color: white !important;
        }
        
        .warning-box p,
        .warning-box li,
        .warning-box h4 {
            color: white !important;
        }
        
        .exercise-box p,
        .exercise-box h4 {
            color: white !important;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-container">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <h1>Jassif Team <span>Institution</span></h1>
            </div>
        </div>
    </header>

    <!-- Top Navigation Tabs -->
    <div class="nav-tabs">
        <a href="Node.js Child Process Module.html" class="nav-tab prev">
            <i class="fas fa-arrow-left"></i>
            <span>роорпБроирпНродрпИроп</span>
        </a>
        <a href="Node.js Worker Threads Module.html" class="nav-tab next">
            <span>роЕроЯрпБродрпНродродрпБ</span>
            <i class="fas fa-arrow-right"></i>
        </a>
    </div>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content">
            <h2>Node.js Cluster Module</h2>
            <p>Node.js рокропройрпНрокро╛роЯрпБроХро│рпИ рокро▓ CPU роХрпЛро░рпНроХро│ро┐ро▓рпН роЕро│ро╡ро┐роЯ роХро▒рпНро▒рпБроХрпНроХрпКро│рпНро│рпБроЩрпНроХро│рпН</p>
        </div>
    </section>

    <!-- Main Content -->
    <main class="container">
        <!-- What is the Cluster Module? -->
        <section class="content-section" id="what-is">
            <h2>Cluster родрпКроХрпБродро┐ роОройрпНро▒ро╛ро▓рпН роОройрпНрой?</h2>
            
            <p>Cluster родрпКроХрпБродро┐ роТро░рпЗ роЪрпЗро╡рпИропроХ рокрпЛро░рпНроЯрпНроЯрпИрокрпН рокроХро┐ро░рпНроирпНродрпБ роХрпКро│рпНро│рпБроорпН рокро▓ родрпКро┤ро┐ро▓ро╛ро│ро░рпН роЪрпЖропро▓рпНроорпБро▒рпИроХро│рпИ роЙро░рпБро╡ро╛роХрпНроХ роТро░рпБ ро╡ро┤ро┐ропрпИ ро╡ро┤роЩрпНроХрпБроХро┐ро▒родрпБ.</p>
            
            <p>Node.js роЗропро▓рпНрокро╛роХ single-threaded роЖроХ роЗро░рпБрокрпНрокродро╛ро▓рпН, Cluster родрпКроХрпБродро┐ рокро▓-роХрпЛро░рпН роЕроорпИрокрпНрокрпБроХро│ро┐ро▓рпН роЪрпЖропро▓рпНродро┐ро▒ройрпИроХрпН роХрогро┐роЪрооро╛роХ роорпЗроорпНрокроЯрпБродрпНрод роЙроЩрпНроХро│рпН рокропройрпНрокро╛роЯрпНроЯрпИ рокро▓ CPU роХрпЛро░рпНроХро│рпИрокрпН рокропройрпНрокроЯрпБродрпНрод роЙродро╡рпБроХро┐ро▒родрпБ.</p>
            
            <p>роТро╡рпНро╡рпКро░рпБ родрпКро┤ро┐ро▓ро╛ро│ро░рпБроорпН родроЩрпНроХро│рпН роЪрпКроирпНрод роЪрпЖропро▓рпНроорпБро▒рпИропро┐ро▓рпН родроЩрпНроХро│рпН роЪрпКроирпНрод роЗро╡рпЖрогрпНроЯрпН ро▓рпВрокрпН рооро▒рпНро▒рпБроорпН роиро┐ройрпИро╡роХ роЗроЯродрпНродро┐ро▓рпН роЗропроЩрпНроХрпБроХро┐ро▒ро╛ро░рпНроХро│рпН, роЖройро╛ро▓рпН роЕро╡ро░рпНроХро│рпН роЕройрпИро╡ро░рпБроорпН роТро░рпЗ роЪрпЗро╡рпИропроХ рокрпЛро░рпНроЯрпНроЯрпИрокрпН рокроХро┐ро░рпНроирпНродрпБ роХрпКро│рпНроХро┐ро▒ро╛ро░рпНроХро│рпН.</p>
            
            <p>рооро╛ро╕рпНроЯро░рпН роЪрпЖропро▓рпНроорпБро▒рпИ родрпКро┤ро┐ро▓ро╛ро│ро░рпНроХро│рпИ роЙро░рпБро╡ро╛роХрпНроХрпБро╡родро▒рпНроХрпБроорпН роЙро│рпНро╡ро░рпБроорпН роЗрогрпИрокрпНрокрпБроХро│рпИ роЕро╡ро░рпНроХро│рпБроХрпНроХро┐роЯрпИропрпЗ ро╡ро┐роиро┐ропрпЛроХро┐рокрпНрокродро▒рпНроХрпБроорпН рокрпКро▒рпБрокрпНрокро╛роХрпБроорпН.</p>
        </section>

        <!-- Importing the Cluster Module -->
        <section class="content-section" id="importing">
            <h2>Cluster родрпКроХрпБродро┐ропрпИ роЗро▒роХрпНроХрпБроородро┐ роЪрпЖропрпНродро▓рпН</h2>
            
            <p>Cluster родрпКроХрпБродро┐ Node.js роЗро▓рпН роЗропро▓рпНрокро╛роХроЪрпН роЪрпЗро░рпНроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│родрпБ.</p>
            
            <p>роЙроЩрпНроХро│рпН ро╕рпНроХро┐ро░ро┐рокрпНроЯрпНроЯро┐ро▓рпН роЕродрпИродрпН родрпЗро╡рпИрокрпНрокроЯрпБро╡родройрпН роорпВро▓роорпН рокропройрпНрокроЯрпБродрпНродро▓ро╛роорпН:</p>
            
            <div class="code-example">
                <pre><code>const cluster = require('cluster');
const os = require('os');

// Check if this is the master process
if (cluster.isMaster) {
  console.log(`Master process ${process.pid} is running`);
} else {
  console.log(`Worker process ${process.pid} started`);
}</code></pre>
            </div>
        </section>

        <!-- How Clustering Works -->
        <section class="content-section" id="how-clustering-works">
            <h2>Clustering роОро╡рпНро╡ро╛ро▒рпБ роЪрпЖропро▓рпНрокроЯрпБроХро┐ро▒родрпБ</h2>
            
            <p>Cluster родрпКроХрпБродро┐ рокро▓ родрпКро┤ро┐ро▓ро╛ро│ро░рпН роЪрпЖропро▓рпНроорпБро▒рпИроХро│рпИродрпН родрпЛро▒рпНро▒рпБро╡ро┐роХрпНроХрпБроорпН роТро░рпБ рооро╛ро╕рпНроЯро░рпН роЪрпЖропро▓рпНроорпБро▒рпИропрпИ роЙро░рпБро╡ро╛роХрпНроХрпБро╡родройрпН роорпВро▓роорпН роЪрпЖропро▓рпНрокроЯрпБроХро┐ро▒родрпБ.</p>
            
            <p>рооро╛ро╕рпНроЯро░рпН роЪрпЖропро▓рпНроорпБро▒рпИ рокропройрпНрокро╛роЯрпНроЯрпБ роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роЗропроХрпНроХро╛родрпБ, роЖройро╛ро▓рпН родрпКро┤ро┐ро▓ро╛ро│ро░рпНроХро│рпИ роиро┐ро░рпНро╡роХро┐роХрпНроХро┐ро▒родрпБ.</p>
            
            <p>роТро╡рпНро╡рпКро░рпБ родрпКро┤ро┐ро▓ро╛ро│ро░рпН роЪрпЖропро▓рпНроорпБро▒рпИропрпБроорпН роЙроЩрпНроХро│рпН рокропройрпНрокро╛роЯрпНроЯрпБ роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роЪрпБропро╛родрпАройрооро╛роХ роЗропроХрпНроХрпБроорпН роТро░рпБ рокрпБродро┐роп Node.js роиро┐роХро┤рпНро╡ро╛роХрпБроорпН.</p>
            
            <div class="tip-box">
                <h4><span class="tip-icon">ЁЯФз</span> роХрпБро▒ро┐рокрпНрокрпБ:</h4>
                <p>роЕроЯро┐рокрпНрокроЯрпИропро┐ро▓рпН, Cluster родрпКроХрпБродро┐ рокрпБродро┐роп родрпКро┤ро┐ро▓ро╛ро│ро░рпНроХро│рпИ роЙро░рпБро╡ро╛роХрпНроХ Child Process родрпКроХрпБродро┐ропро┐ройрпН fork() роорпБро▒рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБроХро┐ро▒родрпБ.</p>
            </div>
            
            <div class="comparison-table">
                <table>
                    <thead>
                        <tr>
                            <th>роЪрпЖропро▓рпНроорпБро▒рпИ ро╡роХрпИ</th>
                            <th>рокрпКро▒рпБрокрпНрокрпБ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>рооро╛ро╕рпНроЯро░рпН</strong></td>
                            <td>
                                <ul>
                                    <li>родрпКро┤ро┐ро▓ро╛ро│ро░рпН роЪрпЖропро▓рпНроорпБро▒рпИроХро│рпИ роЙро░рпБро╡ро╛роХрпНроХрпБродро▓рпН рооро▒рпНро▒рпБроорпН роиро┐ро░рпНро╡роХро┐родрпНродро▓рпН</li>
                                    <li>родрпКро┤ро┐ро▓ро╛ро│ро░рпН роЖро░рпЛроХрпНроХро┐ропродрпНродрпИроХрпН роХрогрпНроХро╛рогро┐родрпНродро▓рпН</li>
                                    <li>роХро┐ро░ро╛ро╖рпН роЪрпЖропрпНрод родрпКро┤ро┐ро▓ро╛ро│ро░рпНроХро│рпИ роорпАрогрпНроЯрпБроорпН родрпКроЯроЩрпНроХрпБродро▓рпН</li>
                                    <li>роЪрпБроорпИ роЪроороиро┐ро▓рпИ (роЗрогрпИрокрпНрокрпБроХро│рпИ ро╡ро┐роиро┐ропрпЛроХро┐родрпНродро▓рпН)</li>
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>родрпКро┤ро┐ро▓ро╛ро│ро░рпН</strong></td>
                            <td>
                                <ul>
                                    <li>роЙрогрпНроорпИропро╛рой рокропройрпНрокро╛роЯрпНроЯрпБ роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роЗропроХрпНроХрпБродро▓рпН</li>
                                    <li>роЙро│рпНро╡ро░рпБроорпН роХрпЛро░ро┐роХрпНроХрпИроХро│рпИроХрпН роХрпИропро╛ро│рпБродро▓рпН</li>
                                    <li>родро░ро╡рпИроЪрпН роЪрпЖропро▓ро╛роХрпНроХрпБродро▓рпН</li>
                                    <li>ро╡рогро┐роХ родро░рпНроХрпНроХродрпНродрпИ роЗропроХрпНроХрпБродро▓рпН</li>
                                </ul>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Creating a Basic Cluster -->
        <section class="content-section" id="basic-cluster">
            <h2>роЕроЯро┐рокрпНрокроЯрпИ роХро┐ро│ро╕рпНроЯро░рпИ роЙро░рпБро╡ро╛роХрпНроХрпБродро▓рпН</h2>
            
            <p>роТро╡рпНро╡рпКро░рпБ CPU роХрпНроХрпБроорпН родрпКро┤ро┐ро▓ро╛ро│ро░рпН роЪрпЖропро▓рпНроорпБро▒рпИроХро│рпБроЯройрпН роТро░рпБ роХро┐ро│ро╕рпНроЯро░рпИ роЙро░рпБро╡ро╛роХрпНроХрпБро╡родро▒рпНроХро╛рой роТро░рпБ роОро│ро┐роп роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ роЗроЩрпНроХрпЗ:</p>
            
            <div class="code-example">
                <pre><code>const cluster = require('cluster');
const http = require('http');
const numCPUs = require('os').cpus().length;

if (cluster.isMaster) {
  // This is the master process

  console.log(`Master ${process.pid} is running`);

  // Fork workers for each CPU core
  for (let i = 0; i < numCPUs; i++) {
    cluster.fork();
  }

  // Listen for worker exits
  cluster.on('exit', (worker, code, signal) => {
    console.log(`Worker ${worker.process.pid} died`);
    // You can fork a new worker to replace the dead one
    console.log('Forking a new worker...');
    cluster.fork();
  });
} else {
  // This is a worker process

  // Create an HTTP server
  http.createServer((req, res) => {
    res.writeHead(200);
    res.end(`Hello from Worker ${process.pid}\n`);

    // Simulate CPU work
    let i = 1e7;
    while (i > 0) { i--; }

  }).listen(8000);

  console.log(`Worker ${process.pid} started`);
}</code></pre>
            </div>
            
            <p>роЗроирпНрод роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯро┐ро▓рпН:</p>
            
            <div class="best-practice-list">
                <div class="practice-item positive">
                    <i class="fas fa-microchip"></i>
                    <span>рооро╛ро╕рпНроЯро░рпН роЪрпЖропро▓рпНроорпБро▒рпИ CPU роХрпЛро░рпНроХро│ро┐ройрпН роОрогрпНрогро┐роХрпНроХрпИропрпИроХрпН роХрогрпНроЯро▒ро┐роХро┐ро▒родрпБ</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-users"></i>
                    <span>роЗродрпБ CPU роХрпНроХрпБ роТро░рпБ родрпКро┤ро┐ро▓ро╛ро│ро░рпИ fork роЪрпЖропрпНроХро┐ро▒родрпБ</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-server"></i>
                    <span>роТро╡рпНро╡рпКро░рпБ родрпКро┤ро┐ро▓ро╛ро│ро░рпБроорпН роТро░рпЗ рокрпЛро░рпНроЯрпНроЯро┐ро▓рпН (8000) роТро░рпБ HTTP роЪрпЗро╡рпИропроХродрпНродрпИ роЙро░рпБро╡ро╛роХрпНроХрпБроХро┐ро▒родрпБ</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-balance-scale"></i>
                    <span>роХро┐ро│ро╕рпНроЯро░рпН родрпКроХрпБродро┐ роЙро│рпНро╡ро░рпБроорпН роЗрогрпИрокрпНрокрпБроХро│рпИ родро╛ройро╛роХ роЪрпБроорпИ роЪроороиро┐ро▓рпИрокрпНрокроЯрпБродрпНродрпБроХро┐ро▒родрпБ</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-redo"></i>
                    <span>роТро░рпБ родрпКро┤ро┐ро▓ро╛ро│ро░рпН роХро┐ро░ро╛ро╖рпН роЪрпЖропрпНродро╛ро▓рпН, рооро╛ро╕рпНроЯро░рпН роТро░рпБ рокрпБродро┐ропродрпИ роЙро░рпБро╡ро╛роХрпНроХрпБроХро┐ро▒родрпБ</span>
                </div>
            </div>
        </section>

        <!-- Worker Communication -->
        <section class="content-section" id="worker-communication">
            <h2>родрпКро┤ро┐ро▓ро╛ро│ро░рпН родрпКроЯро░рпНрокрпБ</h2>
            
            <p>Child Process родрпКроХрпБродро┐ропро┐ро▓рпН IPC роОро╡рпНро╡ро╛ро▒рпБ роЪрпЖропро▓рпНрокроЯрпБроХро┐ро▒родрпБ роОройрпНрокродрпИрокрпН рокрпЛро▓ро╡рпЗ, send() роорпБро▒рпИ рооро▒рпНро▒рпБроорпН message events роРрокрпН рокропройрпНрокроЯрпБродрпНродро┐ рооро╛ро╕рпНроЯро░рпН рооро▒рпНро▒рпБроорпН родрпКро┤ро┐ро▓ро╛ро│ро░рпН роЪрпЖропро▓рпНроорпБро▒рпИроХро│рпБроХрпНроХрпБ роЗроЯрпИропрпЗ родрпКроЯро░рпНрокрпБ роХрпКро│рпНро│ро▓ро╛роорпН.</p>
            
            <div class="code-example">
                <pre><code>const cluster = require('cluster');
const http = require('http');
const numCPUs = require('os').cpus().length;

if (cluster.isMaster) {
  console.log(`Master ${process.pid} is running`);

  // Track request count for each worker
  const requestCounts = {};

  // Fork workers
  for (let i = 0; i < numCPUs; i++) {
    const worker = cluster.fork();
    requestCounts[worker.id] = 0;

    // Listen for messages from this worker
    worker.on('message', (msg) => {
      if (msg.cmd === 'incrementRequestCount') {
        requestCounts[worker.id]++;
        console.log(`Worker ${worker.id} (pid ${worker.process.pid}) has handled ${requestCounts[worker.id]} requests`);
      }
    });
  }

  // Every 10 seconds, send the request count to each worker
  setInterval(() => {
    for (const id in cluster.workers) {
      cluster.workers[id].send({
        cmd: 'requestCount',
        requestCount: requestCounts[id]
      });
    }
    console.log('Total request counts:', requestCounts);
  }, 10000);

  // Handle worker exit
  cluster.on('exit', (worker, code, signal) => {
    console.log(`Worker ${worker.process.pid} died`);
    // Fork a new worker to replace it
    const newWorker = cluster.fork();
    requestCounts[newWorker.id] = 0;
  });
} else {
  // Worker process
  console.log(`Worker ${process.pid} started`);

  let localRequestCount = 0;

  // Handle messages from the master
  process.on('message', (msg) => {
    if (msg.cmd === 'requestCount') {
      console.log(`Worker ${process.pid} has handled ${msg.requestCount} requests according to master`);
    }
  });

  // Create an HTTP server
  http.createServer((req, res) => {
    // Notify the master that we handled a request
    process.send({ cmd: 'incrementRequestCount' });

    // Increment local count
    localRequestCount++;

    // Send response
    res.writeHead(200);
    res.end(`Hello from Worker ${process.pid}, I've handled ${localRequestCount} requests locally\n`);
  }).listen(8000);
}</code></pre>
            </div>
        </section>

        <!-- Zero-Downtime Restart -->
        <section class="content-section" id="zero-downtime">
            <h2>рокрпВроЬрпНроп-роХрпАро┤рпЗро▒рпБродро▓рпН рооро▒рпБродрпКроЯроХрпНроХроорпН</h2>
            
            <p>роХро┐ро│ро╕рпНроЯро░ро┐роЩрпНроХро┐ройрпН роорпБроХрпНроХро┐роп роиройрпНроорпИроХро│ро┐ро▓рпН роТройрпНро▒рпБ роХрпАро┤рпЗро▒рпБродро▓рпН роЗро▓рпНро▓ро╛рооро▓рпН родрпКро┤ро┐ро▓ро╛ро│ро░рпНроХро│рпИ роорпАрогрпНроЯрпБроорпН родрпКроЯроЩрпНроХрпБроорпН родро┐ро▒ройро╛роХрпБроорпН. роЙроЩрпНроХро│рпН рокропройрпНрокро╛роЯрпНроЯро┐ро▒рпНроХро╛рой рокрпБродрпБрокрпНрокро┐рокрпНрокрпБроХро│рпИ ро╡рпЖро│ро┐ропро┐роЯрпБро╡родро▒рпНроХрпБ роЗродрпБ рокропройрпБро│рпНро│родро╛роХ роЗро░рпБроХрпНроХрпБроорпН.</p>
            
            <div class="code-example">
                <pre><code>const cluster = require('cluster');
const http = require('http');
const numCPUs = require('os').cpus().length;

if (cluster.isMaster) {
  console.log(`Master ${process.pid} is running`);

  // Store workers
  const workers = [];

  // Fork initial workers
  for (let i = 0; i < numCPUs; i++) {
    workers.push(cluster.fork());
  }

  // Function to restart workers one by one
  function restartWorkers() {
    console.log('Starting zero-downtime restart...');
    
    let i = 0;
    function restartWorker() {
      if (i >= workers.length) {
        console.log('All workers restarted successfully!');
        return;
      }

      const worker = workers[i++];
      console.log(`Restarting worker ${worker.process.pid}...`);

      // Create a new worker
      const newWorker = cluster.fork();
      newWorker.on('listening', () => {
        // Once the new worker is listening, kill the old one
        worker.disconnect();

        // Replace the old worker in our array
        workers[workers.indexOf(worker)] = newWorker;

        // Continue with the next worker
        setTimeout(restartWorker, 1000);
      });
    }

    // Start the recursive process
    restartWorker();
  }
  
  // Simulate a restart after 20 seconds
  setTimeout(restartWorkers, 20000);

  // Handle normal worker exit
  cluster.on('exit', (worker, code, signal) => {
    if (worker.exitedAfterDisconnect !== true) {
      console.log(`Worker ${worker.process.pid} died unexpectedly, replacing it...`);
      const newWorker = cluster.fork();
      workers[workers.indexOf(worker)] = newWorker;
    }
  });
} else {
  // Worker process

  // Create an HTTP server
  http.createServer((req, res) => {
    res.writeHead(200);
    res.end(`Worker ${process.pid} responding, uptime: ${process.uptime().toFixed(2)} seconds\n`);
  }).listen(8000);

  console.log(`Worker ${process.pid} started`);
}</code></pre>
            </div>
            
            <p>роЗроирпНрод роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ ро╡ро┐ро│роХрпНроХрпБроХро┐ро▒родрпБ:</p>
            
            <div class="best-practice-list">
                <div class="practice-item positive">
                    <i class="fas fa-plus"></i>
                    <span>роЖро░роорпНрок родрпКро┤ро┐ро▓ро╛ро│ро░рпНроХро│ро┐ройрпН родрпКроХрпБрокрпНрокрпИ роЙро░рпБро╡ро╛роХрпНроХрпБродро▓рпН</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-sync"></i>
                    <span>роТро╡рпНро╡рпКро░рпБ родрпКро┤ро┐ро▓ро╛ро│ро░рпИропрпБроорпН роТро╡рпНро╡рпКройрпНро▒ро╛роХ рооро╛ро▒рпНро▒рпБродро▓рпН</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-check-circle"></i>
                    <span>рокро┤рпИропродрпИродрпН родрпБрогрпНроЯро┐роХрпНроХрпБроорпН роорпБройрпН роТро░рпБ рокрпБродро┐роп родрпКро┤ро┐ро▓ро╛ро│ро░рпН роХрпЗроЯрпНрокродрпИ роЙро▒рпБродро┐роЪрпЖропрпНродро▓рпН</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-heartbeat"></i>
                    <span>роОродро┐ро░рпНрокро╛ро░ро╛род родрпКро┤ро┐ро▓ро╛ро│ро░рпН роЗро▒рокрпНрокрпБроХро│рпИ роирпЗро░рпНродрпНродро┐ропро╛роХроХрпН роХрпИропро╛ро│рпБродро▓рпН</span>
                </div>
            </div>
        </section>

        <!-- Load Balancing -->
        <section class="content-section" id="load-balancing">
            <h2>роЪрпБроорпИ роЪроороиро┐ро▓рпИ</h2>
            
            <p>Cluster родрпКроХрпБродро┐ родрпКро┤ро┐ро▓ро╛ро│ро░рпН роЪрпЖропро▓рпНроорпБро▒рпИроХро│рпБроХрпНроХро┐роЯрпИропрпЗ роЙро│рпНро╡ро░рпБроорпН роЗрогрпИрокрпНрокрпБроХро│рпИ ро╡ро┐роиро┐ропрпЛроХро┐рокрпНрокродро▒рпНроХро╛рой роЙро│рпНро│роорпИроХрпНроХрокрпНрокроЯрпНроЯ роЪрпБроорпИ роЪроороиро┐ро▓рпИропрпИроХрпН роХрпКрогрпНроЯрпБро│рпНро│родрпБ.</p>
            
            <p>роЗро░рогрпНроЯрпБ роорпБродройрпНроорпИ роЙродрпНродро┐роХро│рпН роЙро│рпНро│рой:</p>
            
            <h3>Round-Robin (роЗропро▓рпНрокрпБроиро┐ро▓рпИ)</h3>
            
            <p>ро╡ро┐рогрпНроЯрпЛро╕рпИродрпН родро╡ро┐ро░ роЕройрпИродрпНродрпБ родро│роЩрпНроХро│ро┐ро▓рпБроорпН, Node.js роТро░рпБ роЪрпБро▒рпНро▒рпБ-ро░ро╛рокро┐ройрпН роЕрогрпБроХрпБроорпБро▒рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роЗрогрпИрокрпНрокрпБроХро│рпИ ро╡ро┐роиро┐ропрпЛроХро┐роХрпНроХро┐ро▒родрпБ, роЗродро┐ро▓рпН рооро╛ро╕рпНроЯро░рпН роЗрогрпИрокрпНрокрпБроХро│рпИ роПро▒рпНро▒рпБроХрпНроХрпКрогрпНроЯрпБ роТро░рпБ ро╡роЯрпНроЯ ро╡ро░ро┐роЪрпИропро┐ро▓рпН родрпКро┤ро┐ро▓ро╛ро│ро░рпНроХро│рпБроХрпНроХрпБ ро╡ро┐роиро┐ропрпЛроХро┐роХрпНроХро┐ро▒родрпБ.</p>
            
            <div class="tip-box">
                <h4><span class="tip-icon">ЁЯТ╗</span> роХрпБро▒ро┐рокрпНрокрпБ:</h4>
                <p>ро╡ро┐рогрпНроЯрпЛро╕ро┐ро▓рпН, рокрпЛро░рпНроЯрпНроХро│рпИ роОро╡рпНро╡ро╛ро▒рпБ роХрпИропро╛ро│рпНроХро┐ро▒родрпБ роОройрпНрокродройрпН роХро╛ро░рогрооро╛роХ роЪрпБроорпИ ро╡ро┐роиро┐ропрпЛроХроорпН ро╡ро┐родрпНродро┐ропро╛роЪрооро╛роХ роЪрпЖропро▓рпНрокроЯрпБроХро┐ро▒родрпБ. ро╡ро┐рогрпНроЯрпЛро╕ро┐ро▓рпН, родрпКро┤ро┐ро▓ро╛ро│ро░рпНроХро│рпН роЗрогрпИрокрпНрокрпБроХро│рпИ роПро▒рпНроХ рокрпЛроЯрпНроЯро┐ропро┐роЯрпБроХро┐ро▒ро╛ро░рпНроХро│рпН.</p>
            </div>
            
            <h3>роорпБродройрпНроорпИ родрпКро┤ро┐ро▓ро╛ро│ро░рпН</h3>
            
            <p>cluster.schedulingPolicy роР роЕроорпИрокрпНрокродройрпН роорпВро▓роорпН роТро╡рпНро╡рпКро░рпБ родрпКро┤ро┐ро▓ро╛ро│ро░рпБроорпН роЗрогрпИрокрпНрокрпБроХро│рпИ роирпЗро░роЯро┐ропро╛роХ роПро▒рпНро▒рпБроХрпНроХрпКро│рпНро│ роЕройрпБроородро┐роХрпНроХро▓ро╛роорпН:</p>
            
            <div class="code-example">
                <pre><code>const cluster = require('cluster');
const http = require('http');
const numCPUs = require('os').cpus().length;

// Set the scheduling policy to SCHED_NONE (let workers accept connections themselves)
cluster.schedulingPolicy = cluster.SCHED_NONE;

if (cluster.isMaster) {
  console.log(`Master ${process.pid} is running`);

  // Fork workers
  for (let i = 0; i < numCPUs; i++) {
    cluster.fork();
  }

  cluster.on('exit', (worker, code, signal) => {
    console.log(`Worker ${worker.process.pid} died`);
    cluster.fork();
  });
} else {
  // Worker process
  http.createServer((req, res) => {
    res.writeHead(200);
    res.end(`Hello from Worker ${process.pid}\n`);
  }).listen(8000);

  console.log(`Worker ${process.pid} started`);
}</code></pre>
            </div>
        </section>

        <!-- Shared State -->
        <section class="content-section" id="shared-state">
            <h2>рокроХро┐ро░рокрпНрокроЯрпНроЯ роиро┐ро▓рпИ</h2>
            
            <p>роТро╡рпНро╡рпКро░рпБ родрпКро┤ро┐ро▓ро╛ро│ро░рпБроорпН родроЩрпНроХро│рпН роЪрпКроирпНрод роЪрпЖропро▓рпНроорпБро▒рпИропро┐ро▓рпН родроЩрпНроХро│рпН роЪрпКроирпНрод роиро┐ройрпИро╡роХ роЗроЯродрпНродро┐ро▓рпН роЗропроЩрпНроХрпБро╡родро╛ро▓рпН, роЕро╡ро░рпНроХро│рпН рооро╛ро▒ро┐роХро│рпН роорпВро▓роорпН роирпЗро░роЯро┐ропро╛роХ роиро┐ро▓рпИропрпИрокрпН рокроХро┐ро░рпНроирпНродрпБ роХрпКро│рпНро│ роорпБроЯро┐ропро╛родрпБ. роЕродро▒рпНроХрпБ рокродро┐ро▓ро╛роХ, роирпАроЩрпНроХро│рпН:</p>
            
            <div class="best-practice-list">
                <div class="practice-item positive">
                    <i class="fas fa-comments"></i>
                    <span>IPC роЪрпЖропрпНродро┐ропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро╡рпБроорпН (родрпКроЯро░рпНрокрпБ роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯро┐ро▓рпН роХро╛роЯрпНроЯрокрпНрокроЯрпНроЯрпБро│рпНро│родрпБ)</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-database"></i>
                    <span>Redis, MongoDB, роЕро▓рпНро▓родрпБ роХрпЛрокрпНрокрпБ роЕроорпИрокрпНрокрпБ рокрпЛройрпНро▒ ро╡рпЖро│ро┐рокрпНрокрпБро▒ роЪрпЗрооро┐рокрпНрокроХродрпНродрпИрокрпН рокропройрпНрокроЯрпБродрпНродро╡рпБроорпН</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-user"></i>
                    <span>роЕрооро░рпНро╡рпБ роорпЗро▓ро╛рогрпНроорпИроХрпНроХро╛рой роТроЯрпНроЯрпБроорпН роЪрпБроорпИ роЪроороиро┐ро▓рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро╡рпБроорпН</span>
                </div>
            </div>
            
            <h3>роТроЯрпНроЯрпБроорпН роЕрооро░рпНро╡рпБроХро│рпН роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ</h3>
            
            <p>роТроЯрпНроЯрпБроорпН роЕрооро░рпНро╡рпБроХро│рпН роТро░рпЗ роХро┐ро│рпИропрогрпНроЯро┐ро▓ро┐ро░рпБроирпНродрпБ ро╡ро░рпБроорпН роХрпЛро░ро┐роХрпНроХрпИроХро│рпН роОрокрпНрокрпЛродрпБроорпН роТро░рпЗ родрпКро┤ро┐ро▓ро╛ро│ро░рпН роЪрпЖропро▓рпНроорпБро▒рпИроХрпНроХрпБроЪрпН роЪрпЖро▓рпНро▓рпБроорпН роОройрпНрокродрпИ роЙро▒рпБродро┐роЪрпЖропрпНроХро┐ройрпНро▒рой:</p>
            
            <div class="code-example">
                <pre><code>const cluster = require('cluster');
const http = require('http');
const numCPUs = require('os').cpus().length;

if (cluster.isMaster) {
  console.log(`Master ${process.pid} is running`);

  // Fork workers
  for (let i = 0; i < numCPUs; i++) {
    cluster.fork();
  }

  // Store worker references by id
  const workers = {};
  for (const id in cluster.workers) {
    workers[id] = cluster.workers[id];
  }

  // Create a server to route connections to workers
  const server = http.createServer((req, res) => {
    // Get client IP
    const clientIP = req.connection.remoteAddress || req.socket.remoteAddress;

    // Simple hash function to determine which worker to use
    const workerIndex = clientIP.split('.').reduce((a, b) => a + parseInt(b), 0) % numCPUs;
    const workerIds = Object.keys(workers);
    const workerId = workerIds[workerIndex];

    // Send the request to the selected worker
    workers[workerId].send('sticky-session:connection', req.connection);

    res.end(`Request routed to worker ${workerId}`);
  }).listen(8000);

  console.log('Master server listening on port 8000');

  // Handle worker exit
  cluster.on('exit', (worker, code, signal) => {
    console.log(`Worker ${worker.process.pid} died`);

    // Remove the dead worker
    delete workers[worker.id];

    // Create a replacement
    const newWorker = cluster.fork();
    workers[newWorker.id] = newWorker;
  });
} else {
  // Worker process - just demonstrates the concept
  // In a real implementation, you'd need more socket handling

  process.on('message', (msg, socket) => {
    if (msg === 'sticky-session:connection' && socket) {
      console.log(`Worker ${process.pid} received sticky connection`);
      
      // In a real implementation, you'd handle the socket here
      // socket.end(`Handled by worker ${process.pid}\n`);
    }
  });

  // Workers would also run their own server
  http.createServer((req, res) => {
    res.writeHead(200);
    res.end(`Direct request to Worker ${process.pid}\n`);
  }).listen(8001);

  console.log(`Worker ${process.pid} started`);
}</code></pre>
            </div>
            
            <p>роЗродрпБ роТроЯрпНроЯрпБроорпН роЕрооро░рпНро╡рпБроХро│ро┐ройрпН роХро░рпБродрпНродрпИроХрпН роХро╛роЯрпНроЯрпБроорпН роОро│ро┐роорпИрокрпНрокроЯрпБродрпНродрокрпНрокроЯрпНроЯ роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ. роЙро▒рпНрокродрпНродро┐ропро┐ро▓рпН, роирпАроЩрпНроХро│рпН рокрпКродрпБро╡ро╛роХ:</p>
            
            <div class="best-practice-list">
                <div class="practice-item positive">
                    <i class="fas fa-code"></i>
                    <span>роорпЗроорпНрокроЯрпНроЯ ро╣рпЗро╖ро┐роЩрпН роЕро▓рпНроХро╛ро░ро┐родродрпНродрпИрокрпН рокропройрпНрокроЯрпБродрпНродро╡рпБроорпН</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-cookie"></i>
                    <span>IP роорпБроХро╡ро░ро┐роХро│рпБроХрпНроХрпБрокрпН рокродро┐ро▓ро╛роХ роХрпБроХрпНроХрпАроХро│рпН роЕро▓рпНро▓родрпБ рокро┐ро▒ роЕрооро░рпНро╡рпБ роЕроЯрпИропро╛ро│роЩрпНроХро╛роЯрпНроЯро┐роХро│рпИрокрпН рокропройрпНрокроЯрпБродрпНродро╡рпБроорпН</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-plug"></i>
                    <span>роЪро╛роХрпНроХрпЖроЯрпН роЗрогрпИрокрпНрокрпБроХро│рпИ рооро┐роХро╡рпБроорпН роХро╡ройрооро╛роХ роХрпИропро╛ро│ро╡рпБроорпН</span>
                </div>
            </div>
        </section>

        <!-- Worker Lifecycle -->
        <section class="content-section" id="worker-lifecycle">
            <h2>родрпКро┤ро┐ро▓ро╛ро│ро░рпН ро╡ро╛ро┤рпНроХрпНроХрпИроЪрпН роЪрпБро┤ро▒рпНроЪро┐</h2>
            
            <p>роЙроЩрпНроХро│рпН роХро┐ро│ро╕рпНроЯро░рпИ роЪро░ро┐ропро╛роХ роиро┐ро░рпНро╡роХро┐рокрпНрокродро▒рпНроХрпБ родрпКро┤ро┐ро▓ро╛ро│ро░рпН ро╡ро╛ро┤рпНроХрпНроХрпИроЪрпН роЪрпБро┤ро▒рпНроЪро┐ропрпИрокрпН рокрпБро░ро┐роирпНродрпБроХрпКро│рпНро╡родрпБ роорпБроХрпНроХро┐ропроорпН:</p>
            
            <div class="comparison-table">
                <table>
                    <thead>
                        <tr>
                            <th>роиро┐роХро┤рпНро╡рпБ</th>
                            <th>ро╡ро┐ро│роХрпНроХроорпН</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>fork</strong></td>
                            <td>роТро░рпБ рокрпБродро┐роп родрпКро┤ро┐ро▓ро╛ро│ро░рпН fork роЪрпЖропрпНропрокрпНрокроЯрпБроорпН рокрпЛродрпБ ро╡рпЖро│ро┐ропро┐роЯрокрпНрокроЯрпБроХро┐ро▒родрпБ</td>
                        </tr>
                        <tr>
                            <td><strong>online</strong></td>
                            <td>родрпКро┤ро┐ро▓ро╛ро│ро░рпН роЗропроЩрпНроХрпБроорпН рокрпЛродрпБ рооро▒рпНро▒рпБроорпН роЪрпЖропрпНродро┐роХро│рпИроЪрпН роЪрпЖропро▓ро╛роХрпНроХродрпН родропро╛ро░ро╛роХ роЗро░рпБроХрпНроХрпБроорпН рокрпЛродрпБ ро╡рпЖро│ро┐ропро┐роЯрокрпНрокроЯрпБроХро┐ро▒родрпБ</td>
                        </tr>
                        <tr>
                            <td><strong>listening</strong></td>
                            <td>родрпКро┤ро┐ро▓ро╛ро│ро░рпН роЗрогрпИрокрпНрокрпБроХро│рпБроХрпНроХрпБроХрпН роХрпЗроЯрпНроХродрпН родрпКроЯроЩрпНроХрпБроорпН рокрпЛродрпБ ро╡рпЖро│ро┐ропро┐роЯрокрпНрокроЯрпБроХро┐ро▒родрпБ</td>
                        </tr>
                        <tr>
                            <td><strong>disconnect</strong></td>
                            <td>роТро░рпБ родрпКро┤ро┐ро▓ро╛ро│ро░ро┐ройрпН IPC роЪрпЗройро▓рпН родрпБрогрпНроЯро┐роХрпНроХрокрпНрокроЯрпБроорпН рокрпЛродрпБ ро╡рпЖро│ро┐ропро┐роЯрокрпНрокроЯрпБроХро┐ро▒родрпБ</td>
                        </tr>
                        <tr>
                            <td><strong>exit</strong></td>
                            <td>роТро░рпБ родрпКро┤ро┐ро▓ро╛ро│ро░рпН роЪрпЖропро▓рпНроорпБро▒рпИ ро╡рпЖро│ро┐ропрпЗро▒рпБроорпН рокрпЛродрпБ ро╡рпЖро│ро┐ропро┐роЯрокрпНрокроЯрпБроХро┐ро▒родрпБ</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="code-example">
                <pre><code>const cluster = require('cluster');
const http = require('http');

if (cluster.isMaster) {
  console.log(`Master ${process.pid} is running`);

  // Fork a worker
  const worker = cluster.fork();

  // Listen for all worker lifecycle events
  worker.on('fork', () => {
    console.log(`Worker ${worker.process.pid} is being forked`);
  });

  worker.on('online', () => {
    console.log(`Worker ${worker.process.pid} is online`);
  });

  worker.on('listening', (address) => {
    console.log(`Worker ${worker.process.pid} is listening on port ${address.port}`);
  });

  worker.on('disconnect', () => {
    console.log(`Worker ${worker.process.pid} has disconnected`);
  });

  worker.on('exit', (code, signal) => {
    console.log(`Worker ${worker.process.pid} exited with code ${code} and signal ${signal}`);

     if (signal) {
      console.log(`Worker was killed by signal: ${signal}`);
    } else if (code !== 0) {
      console.log(`Worker exited with error code: ${code}`);
    } else {
      console.log('Worker exited successfully');
    }
  });

  // After 10 seconds, gracefully disconnect the worker
  setTimeout(() => {
    console.log('Gracefully disconnecting worker...');
    worker.disconnect();
  }, 10000);

} else {
  // Worker process
  console.log(`Worker ${process.pid} started`);

  // Create an HTTP server
  http.createServer((req, res) => {
    res.writeHead(200);
    res.end(`Hello from Worker ${process.pid}\n`);
  }).listen(8000);

  // If worker is disconnected, close the server
  process.on('disconnect', () => {
    console.log(`Worker ${process.pid} disconnected, closing server...`);
    // In a real application, you'd want to close all connections and clean up resources
    process.exit(0);
  });
}</code></pre>
            </div>
        </section>

        <!-- Graceful Shutdown -->
        <section class="content-section" id="graceful-shutdown">
            <h2>роирпЗро░рпНродрпНродро┐ропро╛рой роЕрогрпИрокрпНрокрпБ</h2>
            
            <p>роЙроЩрпНроХро│рпН родрпКро┤ро┐ро▓ро╛ро│ро░рпН роЪрпЖропро▓рпНроорпБро▒рпИроХро│рпН ро╡рпЖро│ро┐ропрпЗро▒рпБроорпН роорпБройрпН роЗро░рпБроХрпНроХрпБроорпН роХрпЛро░ро┐роХрпНроХрпИроХро│рпИ роорпБроЯро┐роХрпНроХ роЕройрпБроородро┐роХрпНроХ роТро░рпБ роирпЗро░рпНродрпНродро┐ропро╛рой роЕрогрпИрокрпНрокрпБ роорпБроХрпНроХро┐ропрооро╛ройродрпБ.</p>
            
            <div class="code-example">
                <pre><code>const cluster = require('cluster');
const http = require('http');
const numCPUs = require('os').cpus().length;

if (cluster.isMaster) {
  console.log(`Master ${process.pid} is running`);

  // Fork workers
  for (let i = 0; i < numCPUs; i++) {
    cluster.fork();
  }

  // Handle termination signals
  process.on('SIGTERM', () => {
    console.log('Master received SIGTERM, initiating graceful shutdown...');

    // Notify all workers to finish their work and exit
    Object.values(cluster.workers).forEach(worker => {
      console.log(`Sending SIGTERM to worker ${worker.process.pid}`);
      worker.send('shutdown');
    });

    // Set a timeout to force-kill workers if they don't exit gracefully
    setTimeout(() => {
      console.log('Some workers did not exit gracefully, forcing shutdown...');
      Object.values(cluster.workers).forEach(worker => {
        if (!worker.isDead()) {
          console.log(`Killing worker ${worker.process.pid}`);
          worker.process.kill('SIGKILL');
        }
    });

    // Exit the master
    console.log('All workers terminated, exiting master...');
    process.exit(0);
  }, 5000);
  });

  // Handle worker exits
  cluster.on('exit', (worker, code, signal) => {
    console.log(`Worker ${worker.process.pid} exited (${signal || code})`);

    // If all workers have exited, exit the master
    if (Object.keys(cluster.workers).length === 0) {
      console.log('All workers have exited, shutting down master...');
      process.exit(0);
    }
  });

  // Log to show the master is ready
  console.log(`Master ${process.pid} is ready with ${Object.keys(cluster.workers).length} workers`);
  console.log('Send SIGTERM to the master process to initiate graceful shutdown');

} else {
  // Worker process
  console.log(`Worker ${process.pid} started`);

  // Track if we're shutting down
  let isShuttingDown = false;
  let activeConnections = 0;

  // Create HTTP server
  const server = http.createServer((req, res) => {
     // Track active connection
     activeConnections++;

    // Simulate a slow response
    setTimeout(() => {
      res.writeHead(200);
      res.end(`Hello from Worker ${process.pid}\n`);

      // Connection complete
      activeConnections--;

      // If we're shutting down and no active connections, close the server
      if (isShuttingDown && activeConnections === 0) {
        console.log(`Worker ${process.pid} has no active connections, closing server...`);
        server.close(() => {
          console.log(`Worker ${process.pid} closed server, exiting...`);
          process.exit(0);
        });
      }
    }, 2000);
  });

  // Start server
  server.listen(8000);

  // Handle shutdown message from master
  process.on('message', (msg) => {
     if (msg === 'shutdown') {
      console.log(`Worker ${process.pid} received shutdown message, stopping new connections...`);

      // Set shutdown flag
      isShuttingDown = true;

      // Stop accepting new connections
      server.close(() => {
        console.log(`Worker ${process.pid} closed server`);

      // If no active connections, exit immediately
      if (activeConnections === 0) {
        console.log(`Worker ${process.pid} has no active connections, exiting...`);
        process.exit(0);
      } else {
        console.log(`Worker ${process.pid} waiting for ${activeConnections} connections to finish...`);
      }
    });
  }
  });

  // Also handle direct termination signal
  process.on('SIGTERM', () => {
    console.log(`Worker ${process.pid} received SIGTERM directly`);
    // Use the same shutdown logic
    isShuttingDown = true;
    server.close(() => process.exit(0));
  });
}</code></pre>
            </div>
        </section>

        <!-- Best Practices -->
        <section class="content-section" id="best-practices">
            <h2>роЪро┐ро▒роирпНрод роироЯрпИроорпБро▒рпИроХро│рпН</h2>
            
            <div class="best-practice-list">
                <div class="practice-item positive">
                    <i class="fas fa-users"></i>
                    <span><strong>родрпКро┤ро┐ро▓ро╛ро│ро░рпНроХро│ро┐ройрпН роОрогрпНрогро┐роХрпНроХрпИ:</strong> рокрпЖро░рпБроорпНрокро╛ро▓ро╛рой роЪроирпНродро░рпНрокрпНрокроЩрпНроХро│ро┐ро▓рпН, CPU роХрпЛро░рпБроХрпНроХрпБ роТро░рпБ родрпКро┤ро┐ро▓ро╛ро│ро░рпИ роЙро░рпБро╡ро╛роХрпНроХро╡рпБроорпН</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-shield-alt"></i>
                    <span><strong>роиро┐ро▓рпИропро▒рпНро▒ ро╡роЯро┐ро╡роорпИрокрпНрокрпБ:</strong> роХро┐ро│ро╕рпНроЯро░рпНроХро│рпБроЯройрпН родро┐ро▒роорпНрокроЯ ро╡рпЗро▓рпИ роЪрпЖропрпНроп роЙроЩрпНроХро│рпН рокропройрпНрокро╛роЯрпНроЯрпИ роиро┐ро▓рпИропро▒рпНро▒родро╛роХ ро╡роЯро┐ро╡роорпИроХрпНроХро╡рпБроорпН</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-power-off"></i>
                    <span><strong>роирпЗро░рпНродрпНродро┐ропро╛рой роЕрогрпИрокрпНрокрпБ:</strong>роЗрогрпИрокрпНрокрпБроХро│рпИ роХрпИро╡ро┐роЯро╛рооро▓рпН роЗро░рпБроХрпНроХ роЪро░ро┐ропро╛рой роЕрогрпИрокрпНрокрпБ роХрпИропро╛ро│рпБродро▓рпИ роЪрпЖропро▓рпНрокроЯрпБродрпНродро╡рпБроорпН</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-heartbeat"></i>
                    <span><strong>родрпКро┤ро┐ро▓ро╛ро│ро░рпН роХрогрпНроХро╛рогро┐рокрпНрокрпБ:</strong>роХро┐ро░ро╛ро╖рпН роЪрпЖропрпНрод родрпКро┤ро┐ро▓ро╛ро│ро░рпНроХро│рпИ ро╡ро┐ро░рпИро╡ро╛роХроХрпН роХрогрпНроХро╛рогро┐родрпНродрпБ рооро╛ро▒рпНро▒ро╡рпБроорпН</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-database"></i>
                    <span><strong>родро░ро╡рпБродрпНродро│ роЗрогрпИрокрпНрокрпБроХро│рпН:</strong>роТро╡рпНро╡рпКро░рпБ родрпКро┤ро┐ро▓ро╛ро│ро░рпБроХрпНроХрпБроорпН родройро┐роЪрпН роЪрпКроирпНрод роЗрогрпИрокрпНрокрпБ роХрпБро│роорпН роЙро│рпНро│родрпБ, роОройро╡рпЗ родро░ро╡рпБродрпНродро│ роЗрогрпИрокрпНрокрпБроХро│рпИродрпН родроХрпБроирпНродро╡ро╛ро▒рпБ роХроЯрпНроЯроорпИроХрпНроХро╡рпБроорпН</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-share-alt"></i>
                    <span><strong>рокроХро┐ро░рокрпНрокроЯрпНроЯ ро╡ро│роЩрпНроХро│рпН:</strong>родрпКро┤ро┐ро▓ро╛ро│ро░рпНроХро│рпБроХрпНроХро┐роЯрпИропрпЗ рокроХро┐ро░рокрпНрокроЯрпБроорпН ро╡ро│роЩрпНроХро│рпБроЯройрпН (роХрпЛрокрпНрокрпБ рокрпВроЯрпНроЯрпБроХро│рпН рокрпЛройрпНро▒ро╡рпИ) роХро╡ройрооро╛роХ роЗро░рпБроЩрпНроХро│рпН</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-weight"></i>
                    <span><strong>родрпКро┤ро┐ро▓ро╛ро│ро░рпНроХро│рпИ роЗро▓роХрпБро╡ро╛роХ ро╡рпИродрпНродро┐ро░рпБроЩрпНроХро│рпН:</strong>родрпКро┤ро┐ро▓ро╛ро│ро░рпН роЪрпЖропро▓рпНроорпБро▒рпИроХро│ро┐ро▓рпН родрпЗро╡рпИропро▒рпНро▒ роиро┐ройрпИро╡роХ рокропройрпНрокро╛роЯрпНроЯрпИродрпН родро╡ро┐ро░рпНроХрпНроХро╡рпБроорпН</span>
                </div>
            </div>
            
            <div class="warning-box">
                <h4><span class="warning-icon">тЪая╕П</span> роОроЪрпНроЪро░ро┐роХрпНроХрпИ:</h4>
                <p>рокро▓ родрпКро┤ро┐ро▓ро╛ро│ро░рпНроХро│рпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБроорпН рокрпЛродрпБ роХрпЛрокрпНрокрпБ-роЕроЯро┐рокрпНрокроЯрпИропро┐ро▓ро╛рой рокрпВроЯрпНроЯрпБ рооро▒рпНро▒рпБроорпН рокро┐ро▒ рокроХро┐ро░рокрпНрокроЯрпНроЯ ро╡ро│роЩрпНроХро│рпБроЯройрпН роХро╡ройрооро╛роХ роЗро░рпБроЩрпНроХро│рпН. роТро▒рпНро▒рпИ-роЪрпЖропро▓рпНроорпБро▒рпИ рокропройрпНрокро╛роЯрпНроЯро┐ро▓рпН рокро╛родрпБроХро╛рокрпНрокро╛рой роЪрпЖропро▓рпНрокро╛роЯрпБроХро│рпН рокро▓ родрпКро┤ро┐ро▓ро╛ро│ро░рпНроХро│рпБроЯройрпН рокрпЛроЯрпНроЯро┐ роиро┐ро▓рпИроорпИроХро│рпИ роПро▒рпНрокроЯрпБродрпНродроХрпНроХрпВроЯрпБроорпН.</span>
                </p>
            </div>
        </section>

        <!-- Alternatives to the Cluster Module -->
        <section class="content-section" id="alternatives">
            <h2>Cluster родрпКроХрпБродро┐роХрпНроХро╛рой рооро╛ро▒рпНро▒рпБроХро│рпН</h2>
            
            <p>Cluster родрпКроХрпБродро┐ роЪроХрпНродро┐ро╡ро╛ропрпНроирпНродродро╛роХ роЗро░рпБроирпНродро╛ро▓рпБроорпН, рокро▓ роХрпЛро░рпНроХро│ро┐ро▓рпН Node.js рокропройрпНрокро╛роЯрпБроХро│рпИ роЗропроХрпНроХрпБро╡родро▒рпНроХрпБ рооро╛ро▒рпНро▒рпБроХро│рпН роЙро│рпНро│рой:</p>
            
            <div class="comparison-table">
                <table>
                    <thead>
                        <tr>
                            <th>роЕрогрпБроХрпБроорпБро▒рпИ</th>
                            <th>ро╡ро┐ро│роХрпНроХроорпН</th>
                            <th>рокропройрпНрокро╛роЯрпНроЯрпБ ро╡ро┤роХрпНроХрпБ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>PM2</strong></td>
                            <td>роЙро│рпНро│роорпИроХрпНроХрокрпНрокроЯрпНроЯ роЪрпБроорпИ роЪроороиро┐ро▓рпИ рооро▒рпНро▒рпБроорпН роХро┐ро│ро╕рпНроЯро░ро┐роЩрпНроХрпБроЯройрпН Node.js рокропройрпНрокро╛роЯрпБроХро│рпБроХрпНроХро╛рой роТро░рпБ роЪрпЖропро▓рпНроорпБро▒рпИ роорпЗро▓ро╛ро│ро░рпН</td>
                            <td>ро╡ро▓рпБро╡ро╛рой роЪрпЖропро▓рпНроорпБро▒рпИ роорпЗро▓ро╛рогрпНроорпИ родрпЗро╡рпИрокрпНрокроЯрпБроорпН роЙро▒рпНрокродрпНродро┐ рокропройрпНрокро╛роЯрпБроХро│рпН</td>
                        </tr>
                        <tr>
                            <td><strong>роЪрпБроорпИ роЪроороиро┐ро▓рпИ</strong></td>
                            <td>Nginx рокрпЛройрпНро▒ роЪрпБроорпИ роЪроороиро┐ро▓рпИропро┐ройрпН рокро┐ройрпНройро╛ро▓рпН рокро▓ Node.js роиро┐роХро┤рпНро╡рпБроХро│рпИ роЗропроХрпНроХрпБродро▓рпН</td>
                            <td>рокро▓ роЪрпЗро╡рпИропроХроЩрпНроХро│рпН роЕро▓рпНро▓родрпБ роХрпКро│рпНроХро▓ройрпНроХро│ро┐ро▓рпН роЪрпБроорпИропрпИ ро╡ро┐роиро┐ропрпЛроХро┐родрпНродро▓рпН</td>
                        </tr>
                        <tr>
                            <td><strong>родрпКро┤ро┐ро▓ро╛ро│ро░рпН роирпВро▓рпНроХро│рпН</strong></td>
                            <td>CPU-родрпАро╡ро┐ро░ рокрогро┐роХро│рпБроХрпНроХро╛рой роЗро▓роХрпБро╡ро╛рой роирпВро▓ро┐роЯро▓рпН (Node.js >= 10.5.0)</td>
                            <td>роТро▒рпНро▒рпИ роЪрпЖропро▓рпНроорпБро▒рпИроХрпНроХрпБро│рпН CPU-родрпАро╡ро┐ро░ роЪрпЖропро▓рпНрокро╛роЯрпБроХро│рпН</td>
                        </tr>
                        <tr>
                            <td><strong>роХрпКро│рпНроХро▓ройрпНроХро│рпН</strong></td>
                            <td>рокро▓ роХрпКро│рпНроХро▓ройро╛роХрпНроХрокрпНрокроЯрпНроЯ роиро┐роХро┤рпНро╡рпБроХро│рпИ роЗропроХрпНроХрпБродро▓рпН (Docker рооро▒рпНро▒рпБроорпН Kubernetes роЙроЯройрпН)</td>
                            <td>роиро╡рпАрой роХро┐ро│ро╡рпБроЯрпН роЪрпВро┤ро▓рпНроХро│ро┐ро▓рпН роЕро│ро╡ро┐роЯроХрпНроХрпВроЯро┐роп, ро╡ро┐роиро┐ропрпЛроХро┐роХрпНроХрокрпНрокроЯрпНроЯ рокропройрпНрокро╛роЯрпБроХро│рпН</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Advanced Load Balancing Strategies -->
        <section class="content-section" id="advanced-load-balancing">
            <h2>роорпЗроорпНрокроЯрпНроЯ роЪрпБроорпИ роЪроороиро┐ро▓рпИ роЙродрпНродро┐роХро│рпН</h2>
            
            <p>Cluster родрпКроХрпБродро┐ропро┐ройрпН роЗропро▓рпНрокрпБроиро┐ро▓рпИ роЪрпБро▒рпНро▒рпБ-ро░ро╛рокро┐ройрпН роЪрпБроорпИ роЪроороиро┐ро▓рпИ рокро▓ рокропройрпНрокро╛роЯрпБроХро│рпБроХрпНроХрпБ роиройрпНро▒ро╛роХ ро╡рпЗро▓рпИ роЪрпЖропрпНропрпБроорпН рокрпЛродрпБ, роХрпБро▒ро┐рокрпНрокро┐роЯрпНроЯ рокропройрпНрокро╛роЯрпНроЯрпБ ро╡ро┤роХрпНроХрпБроХро│рпБроХрпНроХрпБ роорпЗроорпНрокроЯрпНроЯ роЙродрпНродро┐роХро│рпН родрпЗро╡рпИрокрпНрокроЯро▓ро╛роорпН.</p>
            
            <h3>1. роОроЯрпИ роЪрпБро▒рпНро▒рпБ-ро░ро╛рокро┐ройрпН</h3>
            
            <div class="code-example">
                <pre><code>const cluster = require('cluster');
const http = require('http');
const os = require('os');
if (cluster.isMaster) {
  console.log(`Master ${process.pid} is running`);

  // Create workers with different weights
  const workerWeights = [3, 2, 1]; // First worker gets 3x more load than the last
  const workers = [];

  // Create workers based on weights
  workerWeights.forEach((weight, index) => {
    for (let i = 0; i < weight; i++) {
      const worker = cluster.fork({ WORKER_WEIGHT: weight });
      worker.weight = weight;
      workers.push(worker);
    }
  });

  // Track the next worker to use
  let workerIndex = 0;

  // Create a load balancer server
  http.createServer((req, res) => {
    // Simple round-robin with weights
    const worker = workers[workerIndex++ % workers.length];
    worker.send('handle-request', req.socket);
  }).listen(8000);

} else {   // Worker code
  process.on('message', (message, socket) => {
    if (message === 'handle-request' && socket) {
      // Handle the request
      socket.end(`Handled by worker ${process.pid}\n`);
    }
  });
}</code></pre>
            </div>
            
            <h3>2.роХрпБро▒рпИроирпНрод роЗрогрпИрокрпНрокрпБроХро│рпН</h3>
            
            <div class="code-example">
                <pre><code>const cluster = require('cluster');
const http = require('http');
if (cluster.isMaster) {
  console.log(`Master ${process.pid} is running`);

  // Create workers and track their connection counts
  const workers = [];
  const numCPUs = require('os').cpus().length;

  for (let i = 0; i < numCPUs; i++) {
    const worker = cluster.fork();
    worker.connectionCount = 0;
    workers.push(worker);

    // Track worker connections
    worker.on('message', (msg) => {       if (msg.type === 'connection') {         worker.connectionCount = msg.count;       }     });
  }
  // Create load balancer
  http.createServer((req, res) => {
    // Find worker with least connections
    let minConnections = Infinity;
    let selectedWorker = null;

    for (const worker of workers) {
      if (worker.connectionCount < minConnections) {
        minConnections = worker.connectionCount;
        selectedWorker = worker;
      }
    }

    if (selectedWorker) {
      selectedWorker.send('handle-request', req.socket);
    }
  }).listen(8000);
}</code></pre>
            </div>
        </section>

        <!-- Performance Monitoring and Metrics -->
        <section class="content-section" id="performance-monitoring">
            <h2>роЪрпЖропро▓рпНродро┐ро▒ройрпН роХрогрпНроХро╛рогро┐рокрпНрокрпБ рооро▒рпНро▒рпБроорпН роЕро│ро╡рпАроЯрпБроХро│рпН</h2>
            
            <p>роЖро░рпЛроХрпНроХро┐ропрооро╛рой рокропройрпНрокро╛роЯрпНроЯрпИ рокро░ро╛рооро░ро┐рокрпНрокродро▒рпНроХрпБ роЙроЩрпНроХро│рпН роХро┐ро│ро╕рпНроЯро░ро┐ройрпН роЪрпЖропро▓рпНродро┐ро▒ройрпИроХрпН роХрогрпНроХро╛рогро┐рокрпНрокродрпБ роорпБроХрпНроХро┐ропрооро╛ройродрпБ. роЕроЯро┐рокрпНрокроЯрпИ роЕро│ро╡рпАроЯрпБроХро│рпН роЪрпЗроХро░ро┐рокрпНрокрпИроЪрпН роЪрпЖропро▓рпНрокроЯрпБродрпНродрпБро╡родрпБ роОрокрпНрокроЯро┐ роОройрпНрокродрпБ роЗроЩрпНроХрпЗ:</p>
            
            <div class="code-example">
                <pre><code>const cluster = require('cluster');
const os = require('os');
const promClient = require('prom-client');
if (cluster.isMaster) {
  // Create metrics registry
  const register = new promClient.Registry();
  promClient.collectDefaultMetrics({ register });

  // Custom metrics
  const workerRequests = new promClient.Counter({
    name: 'worker_requests_total',
    help: 'Total requests handled by worker',
    labelNames: ['worker_pid']
  });
register.registerMetric(workerRequests);

  // Fork workers
  for (let i = 0; i < os.cpus().length; i++) {
    const worker = cluster.fork();
    worker.on('message', (msg) => {
      if (msg.type === 'request_processed') {
        workerRequests.inc({ worker_pid: worker.process.pid });
      }
    });
  }

  // Expose metrics endpoint
  require('http').createServer(async (req, res) => {
    if (req.url === '/metrics') {
      res.setHeader('Content-Type', register.contentType);
      res.end(await register.metrics());
    }
  }).listen(9090);
} else {
  // Worker code
  let requestCount = 0;

  require('http').createServer((req, res) => {
    requestCount++;
    process.send({ type: 'request_processed' });
    res.end(`Request ${requestCount} handled by worker ${process.pid}\n`);
  }).listen(8000);
}</code></pre>
            </div>
            
            <h3>роХрогрпНроХро╛рогро┐роХрпНроХ ро╡рпЗрогрпНроЯро┐роп роорпБроХрпНроХро┐роп роЕро│ро╡рпАроЯрпБроХро│рпН</h3>
            
            <div class="best-practice-list">
                <div class="practice-item positive">
                    <i class="fas fa-tachometer-alt"></i>
                    <span><strong>роХрпЛро░ро┐роХрпНроХрпИ ро╡ро┐роХро┐родроорпН:</strong> роТро░рпБ родрпКро┤ро┐ро▓ро╛ро│ро░рпБроХрпНроХрпБ ро╡ро┐ройро╛роЯро┐роХрпНроХрпБ роХрпЛро░ро┐роХрпНроХрпИроХро│рпН</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span><strong>рокро┐ро┤рпИ ро╡ро┐роХро┐родроорпН:</strong> ро╡ро┐ройро╛роЯро┐роХрпНроХрпБ рокро┐ро┤рпИ рокродро┐ро▓рпНроХро│рпН</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-clock"></i>
                    <span><strong>рокродро┐ро▓рпН роирпЗро░роорпН:</strong> P50, P90, P99 рокродро┐ро▓рпН роирпЗро░роЩрпНроХро│рпН</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-microchip"></i>
                    <span><strong>CPU рокропройрпНрокро╛роЯрпБ:</strong> роТро░рпБ родрпКро┤ро┐ро▓ро╛ро│ро░рпБроХрпНроХрпБ CPU рокропройрпНрокро╛роЯрпБ</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-memory"></i>
                    <span><strong>роиро┐ройрпИро╡роХ рокропройрпНрокро╛роЯрпБ:</strong> роТро░рпБ родрпКро┤ро┐ро▓ро╛ро│ро░рпБроХрпНроХрпБ Heap рооро▒рпНро▒рпБроорпН RSS роиро┐ройрпИро╡роХроорпН</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-sync"></i>
                    <span><strong>роЗро╡рпЖрогрпНроЯрпН ро▓рпВрокрпН рокро┐ройрпНродроЩрпНроХро▓рпН:</strong> роЗро╡рпЖрогрпНроЯрпН ро▓рпВрокрпНрокро┐ро▓рпН родро╛роородроорпН</span>
                </div>
            </div>
        </section>

        <!-- Container Integration -->
        <section class="content-section" id="container-integration">
            <h2>роХрпКро│рпНроХро▓ройрпН роТро░рпБроЩрпНроХро┐рогрпИрокрпНрокрпБ</h2>
            
            <p>Docker рооро▒рпНро▒рпБроорпН Kubernetes рокрпЛройрпНро▒ роХрпКро│рпНроХро▓ройро╛роХрпНроХрокрпНрокроЯрпНроЯ роЪрпВро┤ро▓рпНроХро│ро┐ро▓рпН роЗропроХрпНроХрпБроорпН рокрпЛродрпБ, роЗроирпНрод роЪро┐ро▒роирпНрод роироЯрпИроорпБро▒рпИроХро│рпИроХрпН роХро╡ройро┐ропрпБроЩрпНроХро│рпН:</p>
            
            <h3>1. роЪрпЖропро▓рпНроорпБро▒рпИ роорпЗро▓ро╛рогрпНроорпИ</h3>
            
            <div class="code-example">
                <pre><code>// Dockerfile example for a Node.js cluster app
FROM node:16-slim

WORKDIR /app
COPY package*.json ./
RUN npm install --production

# Copy application code
COPY . .

# Use the node process as PID 1 for proper signal handling
CMD ["node", "cluster.js"]

# Health check
HEALTHCHECK --interval=30s --timeout=3s \
CMD curl -f http://localhost:8080/health || exit 1</code></pre>
            </div>
            
            <h3>2. Kubernetes Deployment</h3>
            
            <div class="code-example">
                <pre><code># k8s-deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: node-cluster-app
spec:
  replicas: 3 # Number of pods
  selector:
    matchLabels:
      app: node-cluster
  template:
    metadata:
      labels:
        app: node-cluster
    spec:
      containers:
      - name: node-app
        image: your-image:latest
        ports:
          - containerPort: 8000
        resources:
          requests:
            cpu: "500m"
            memory: "512Mi"
        limits:
          cpu: "1000m"
          memory: "1Gi"
        livenessProbe:
          httpGet:
            path: /health
            port: 8000
            initialDelaySeconds: 5
            periodSeconds: 10
        readinessProbe:
          httpGet:
            path: /ready
            port: 8000
            initialDelaySeconds: 5
            periodSeconds: 10</code></pre>
            </div>
        </section>

        <!-- Common Pitfalls and Solutions -->
        <section class="content-section" id="common-pitfalls">
            <h2>рокрпКродрпБро╡ро╛рой рокрпКро▒ро┐роХрпБро┤ро┐роХро│рпН рооро▒рпНро▒рпБроорпН родрпАро░рпНро╡рпБроХро│рпН</h2>
            
            <h3>1. родрпКро┤ро┐ро▓ро╛ро│ро░рпНроХро│ро┐ро▓рпН роиро┐ройрпИро╡роХ роХроЪро┐ро╡рпБроХро│рпН</h3>
            
            <p><strong>роЪро┐роХрпНроХро▓рпН:</strong> родрпКро┤ро┐ро▓ро╛ро│ро░рпН роЪрпЖропро▓рпНроорпБро▒рпИроХро│ро┐ро▓рпН роиро┐ройрпИро╡роХ роХроЪро┐ро╡рпБроХро│рпН рокроЯро┐рокрпНрокроЯро┐ропро╛рой роиро┐ройрпИро╡роХ ро╡ро│ро░рпНроЪрпНроЪро┐ропрпИ роПро▒рпНрокроЯрпБродрпНродрпБроорпН.</p>
            
            <p><strong>родрпАро░рпНро╡рпБ:</strong> роиро┐ройрпИро╡роХ рокропройрпНрокро╛роЯрпНроЯро┐ройрпН роЕроЯро┐рокрпНрокроЯрпИропро┐ро▓рпН родрпКро┤ро┐ро▓ро╛ро│ро░рпН рооро▒рпБроЪрпБро┤ро▒рпНроЪро┐ропрпИ роЪрпЖропро▓рпНрокроЯрпБродрпНродро╡рпБроорпН.</p>
            
            <div class="code-example">
                <pre><code>// In worker process
const MAX_MEMORY_MB = 500; // Max memory in MB before recycling

function checkMemory() {
  const memoryUsage = process.memoryUsage();
  const memoryMB = memoryUsage.heapUsed / 1024 / 1024;

  if (memoryMB > MAX_MEMORY_MB) {
    console.log(`Worker ${process.pid} memory ${memoryMB.toFixed(2)}MB exceeds limit, exiting...`);
    process.exit(1); // Let cluster restart the worker
  }
}

// Check memory every 30 seconds
setInterval(checkMemory, 30000);</code></pre>
            </div>
            
            <h3>2. Thunder Herd роЪро┐роХрпНроХро▓рпН</h3>
            
            <p><strong>роЪро┐роХрпНроХро▓рпН:</strong> рооро▒рпБродрпКроЯроХрпНроХродрпНродро┐ро▒рпНроХрпБрокрпН рокро┐ро▒роХрпБ роЕройрпИродрпНродрпБ родрпКро┤ро┐ро▓ро╛ро│ро░рпНроХро│рпБроорпН роТро░рпЗ роирпЗро░родрпНродро┐ро▓рпН роЗрогрпИрокрпНрокрпБроХро│рпИ роПро▒рпНро▒рпБроХрпНроХрпКро│рпНроХро┐ро▒ро╛ро░рпНроХро│рпН.</p>
            
            <p><strong>родрпАро░рпНро╡рпБ:</strong> staggered startup роР роЪрпЖропро▓рпНрокроЯрпБродрпНродро╡рпБроорпН.</p>
            
            <div class="code-example">
                <pre><code>// In master process
if (cluster.isMaster) {
  const numWorkers = require('os').cpus().length;

  function forkWorker(delay) {
    setTimeout(() => {
      const worker = cluster.fork();
      console.log(`Worker ${worker.process.pid} started after ${delay}ms delay`);
    }, delay);
  }

  // Stagger worker starts by 1 second
  for (let i = 0; i < numWorkers; i++) {
    forkWorker(i * 1000);
  }
}</code></pre>
            </div>
            
            <h3>3. родрпКро┤ро┐ро▓ро╛ро│ро░рпН рокроЯрпНроЯро┐ройро┐</h3>
            
            <p><strong>роЪро┐роХрпНроХро▓рпН:</strong> роЪро┐ро▓ родрпКро┤ро┐ро▓ро╛ро│ро░рпНроХро│рпН рооро▒рпНро▒ро╡ро░рпНроХро│рпИ ро╡ро┐роЯ роЕродро┐роХ роЪрпБроорпИропрпИрокрпН рокрпЖро▒рпБроХро┐ро▒ро╛ро░рпНроХро│рпН.</p>
            
            <p><strong>родрпАро░рпНро╡рпБ:</strong> роЪро░ро┐ропро╛рой роЪрпБроорпИ роЪроороиро┐ро▓рпИ рооро▒рпНро▒рпБроорпН роХрогрпНроХро╛рогро┐рокрпНрокрпИ роЪрпЖропро▓рпНрокроЯрпБродрпНродро╡рпБроорпН.</p>
            
            <div class="code-example">
                <pre><code>// Track request distribution
const requestDistribution = new Map();

// In master process
if (cluster.isMaster) {
  // ...

  // Monitor request distribution
  setInterval(() => {
    console.log('Request distribution:');
    requestDistribution.forEach((count, pid) => {
      console.log(` Worker ${pid}: ${count} requests`);
    });
  }, 60000);

  // Track requests per worker
  cluster.on('message', (worker, message) => {
    if (message.type === 'request_handled') {
      const count = requestDistribution.get(worker.process.pid) || 0;
      requestDistribution.set(worker.process.pid, count + 1);
    }
  });
}</code></pre>
            </div>
        </section>

        <!-- Summary -->
        <section class="content-section" id="summary">
            <h2>роЪрпБро░рпБроХрпНроХроорпН</h2>
            
            <p>Node.js Cluster родрпКроХрпБродро┐ рокро▓ CPU роХрпЛро░рпНроХро│ро┐ро▓рпН роЙроЩрпНроХро│рпН рокропройрпНрокро╛роЯрпНроЯрпИ роЕро│ро╡ро┐роЯ роТро░рпБ родро┐ро▒роорпИропро╛рой ро╡ро┤ро┐ропрпИ ро╡ро┤роЩрпНроХрпБроХро┐ро▒родрпБ:</p>
            
            <div class="best-practice-list">
                <div class="practice-item positive">
                    <i class="fas fa-crown"></i>
                    <span>рокро▓ родрпКро┤ро┐ро▓ро╛ро│ро░рпН роЪрпЖропро▓рпНроорпБро▒рпИроХро│рпИ роиро┐ро░рпНро╡роХро┐роХрпНроХрпБроорпН роТро░рпБ рооро╛ро╕рпНроЯро░рпН роЪрпЖропро▓рпНроорпБро▒рпИропрпИ роЙро░рпБро╡ро╛роХрпНроХрпБроХро┐ро▒родрпБ</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-share-alt"></i>
                    <span>родрпКро┤ро┐ро▓ро╛ро│ро░рпНроХро│рпН роТро░рпЗ роЪрпЗро╡рпИропроХ рокрпЛро░рпНроЯрпНроЯрпИрокрпН рокроХро┐ро░рпНроирпНродрпБ роХрпКро│рпНроХро┐ро▒ро╛ро░рпНроХро│рпН, роЪрпБроорпИ роЪроороиро┐ро▓рпИрокрпНрокроЯрпБродрпНродро▓рпИ роЕройрпБроородро┐роХрпНроХро┐ро▒ро╛ро░рпНроХро│рпН</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-bolt"></i>
                    <span>рокропройрпНрокро╛роЯрпНроЯрпБ роЪрпЖропро▓рпНродро┐ро▒ройрпН рооро▒рпНро▒рпБроорпН роирпЖроХро┐ро┤рпНро╡рпБродрпНродройрпНроорпИропрпИ роорпЗроорпНрокроЯрпБродрпНродрпБроХро┐ро▒родрпБ</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-sync"></i>
                    <span>рокрпВроЬрпНроп-роХрпАро┤рпЗро▒рпБродро▓рпН рооро▒рпБродрпКроЯроХрпНроХроЩрпНроХро│рпН рооро▒рпНро▒рпБроорпН роирпЗро░рпНродрпНродро┐ропро╛рой роЕрогрпИрокрпНрокрпБроХро│рпИ роЗропро▓рпБроорпИрокрпНрокроЯрпБродрпНродрпБроХро┐ро▒родрпБ</span>
                </div>
                <div class="practice-item positive">
                    <i class="fas fa-comments"></i>
                    <span>рооро╛ро╕рпНроЯро░рпН рооро▒рпНро▒рпБроорпН родрпКро┤ро┐ро▓ро╛ро│ро░рпНроХро│рпБроХрпНроХрпБ роЗроЯрпИропрпЗ родрпКроЯро░рпНрокрпБроХрпНроХрпБ IPC роРрокрпН рокропройрпНрокроЯрпБродрпНродрпБроХро┐ро▒родрпБ</span>
                </div>
            </div>
            
            <p>роХро┐ро│ро╕рпНроЯро░ро┐роЩрпНроХрпИрокрпН рокрпБро░ро┐роирпНродрпБроХрпКрогрпНроЯрпБ роЪро░ро┐ропро╛роХроЪрпН роЪрпЖропро▓рпНрокроЯрпБродрпНродрпБро╡родройрпН роорпВро▓роорпН, роХро┐роЯрпИроХрпНроХроХрпНроХрпВроЯро┐роп роЕройрпИродрпНродрпБ CPU ро╡ро│роЩрпНроХро│рпИропрпБроорпН родро┐ро▒роорпНрокроЯрокрпН рокропройрпНрокроЯрпБродрпНродрпБроорпН роЙропро░рпН-роЪрпЖропро▓рпНродро┐ро▒ройрпН, роироорпНрокроХрооро╛рой Node.js рокропройрпНрокро╛роЯрпБроХро│рпИ роЙро░рпБро╡ро╛роХрпНроХ роорпБроЯро┐ропрпБроорпН.</p>
        </section>

        <!-- Exercise Section -->
        <section class="content-section" id="exercise">
            <h2>рокропро┐ро▒рпНроЪро┐</h2>
            
            <div class="exercise-box">
                <h4><span class="exercise-icon">тЭУ</span> роЪро░ро┐ропро╛рой родрпКроХрпБродро┐ рокрпЖропро░рпИ родрпЗро░рпНро╡рпБ роЪрпЖропрпНропро╡рпБроорпН.</h4>
                <p>The ______ module allows you to create child processes that run simultaneously and share the same server port.</p>
                
                <div class="options-grid">
                    <div class="option-card" data-correct="false">
                        <div class="option-content">
                            <div class="option-text">child_process</div>
                            <div class="option-feedback incorrect">тЬЧ родро╡ро▒рпБ! "child_process" родрпКроХрпБродро┐ роХрпБро┤роирпНродрпИ роЪрпЖропро▓рпНроорпБро▒рпИроХро│рпИ роЙро░рпБро╡ро╛роХрпНроХрпБроХро┐ро▒родрпБ, роЖройро╛ро▓рпН роЕро╡рпИ роТро░рпЗ рокрпЛро░рпНроЯрпНроЯрпИрокрпН рокроХро┐ро░рпНроирпНродрпБ роХрпКро│рпНро│ро╛родрпБ</div>
                        </div>
                    </div>
                    
                    <div class="option-card" data-correct="false">
                        <div class="option-content">
                            <div class="option-text">worker_threads</div>
                            <div class="option-feedback incorrect">тЬЧ родро╡ро▒рпБ! "worker_threads" родрпКроХрпБродро┐ роирпВро▓рпНроХро│рпИ роЙро░рпБро╡ро╛роХрпНроХрпБроХро┐ро▒родрпБ, роХрпБро┤роирпНродрпИ роЪрпЖропро▓рпНроорпБро▒рпИроХро│рпИ роЕро▓рпНро▓, роорпЗро▓рпБроорпН роЕро╡рпИ рокрпЛро░рпНроЯрпНроЯрпБроХро│рпИрокрпН рокроХро┐ро░рпНроирпНродрпБ роХрпКро│рпНро│ро╛родрпБ</div>
                        </div>
                    </div>
                    
                    <div class="option-card" data-correct="true">
                        <div class="option-content">
                            <div class="option-text">cluster</div>
                            <div class="option-feedback correct">тЬУ роЪро░ро┐! "cluster" родрпКроХрпБродро┐ роТро░рпЗ роЪрпЗро╡рпИропроХ рокрпЛро░рпНроЯрпНроЯрпИрокрпН рокроХро┐ро░рпНроирпНродрпБ роХрпКро│рпНро│рпБроорпН роХрпБро┤роирпНродрпИ роЪрпЖропро▓рпНроорпБро▒рпИроХро│рпИ роЙро░рпБро╡ро╛роХрпНроХ роЙроЩрпНроХро│рпИ роЕройрпБроородро┐роХрпНроХро┐ро▒родрпБ</div>
                        </div>
                    </div>
                    
                    <div class="option-card" data-correct="false">
                        <div class="option-content">
                            <div class="option-text">os</div>
                            <div class="option-feedback incorrect">тЬЧ родро╡ро▒рпБ! "os" родрпКроХрпБродро┐ роЗропроХрпНроХ роорпБро▒рпИроорпИ-родрпКроЯро░рпНрокро╛рой родроХро╡ро▓рпНроХро│рпИ ро╡ро┤роЩрпНроХрпБроХро┐ро▒родрпБ, роЖройро╛ро▓рпН роХрпБро┤роирпНродрпИ роЪрпЖропро▓рпНроорпБро▒рпИроХро│рпИ роЙро░рпБро╡ро╛роХрпНроХро╛родрпБ</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <a href="Node.js Child Process Module.html" class="nav-tab prev">
                <i class="fas fa-arrow-left"></i>
                <span>роорпБроирпНродрпИроп</span>
            </a>
            <a href="Node.js Worker Threads Module.html" class="nav-tab next">
                <span>роЕроЯрпБродрпНродродрпБ</span>
                <i class="fas fa-arrow-right"></i>
            </a>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-column">
                <h3>Jassif Team Institution</h3>
                <p>Leading educational institution providing quality programming education in Tamil.</p>
            </div>
            <div class="footer-column">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="#what-is">Cluster родрпКроХрпБродро┐</a></li>
                    <li><a href="#basic-cluster">роЕроЯро┐рокрпНрокроЯрпИ роХро┐ро│ро╕рпНроЯро░рпН</a></li>
                    <li><a href="#load-balancing">роЪрпБроорпИ роЪроороиро┐ро▓рпИ</a></li>
                    <li><a href="#worker-lifecycle">родрпКро┤ро┐ро▓ро╛ро│ро░рпН ро╡ро╛ро┤рпНроХрпНроХрпИроЪрпН роЪрпБро┤ро▒рпНроЪро┐</a></li>
                    <li><a href="#exercise">рокропро┐ро▒рпНроЪро┐</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Contact</h3>
                <ul>
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">Contact Us</a></li>
                    <li><a href="#">Location & Hours</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Follow Us</h3>
                <ul>
                    <li><a href="#"><i class="fab fa-facebook"></i> Facebook</a></li>
                    <li><a href="#"><i class="fab fa-instagram"></i> Instagram</a></li>
                    <li><a href="#"><i class="fab fa-youtube"></i> YouTube</a></li>
                </ul>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2023 Jassif Team Institution. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Add smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if(targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if(targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }
            });
        });
        
        // Add scroll animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.animation = 'fadeInUp 0.8s ease-out forwards';
                }
            });
        }, observerOptions);
        
        // Observe all content sections for animation
        document.querySelectorAll('.content-section').forEach(section => {
            observer.observe(section);
        });

        // Exercise interaction
        document.querySelectorAll('.option-card').forEach(card => {
            card.addEventListener('click', function() {
                // Show feedback for all options
                document.querySelectorAll('.option-card').forEach(c => {
                    c.querySelector('.option-feedback').style.display = 'block';
                });
            });
        });
    </script>

    <!-- Home Button -->
    <a href="index.html" class="home-icon">
        <i class="fas fa-home"></i>
    </a>
</body>
</html>